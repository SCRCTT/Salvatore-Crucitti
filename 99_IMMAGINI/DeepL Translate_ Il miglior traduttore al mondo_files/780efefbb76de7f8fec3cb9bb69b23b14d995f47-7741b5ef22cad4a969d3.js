"use strict";(self.webpackChunk_deepl_gatsby=self.webpackChunk_deepl_gatsby||[]).push([[2169],{55311:function(e,t,n){var r=n(30171),a=n(98808);n(61606).Z.defineType("/translator/common/alternativeTranslations",["core/textareas","core/languageManagement","core/translateSourceSentences","/translator/core/config"],(e,t,n,o)=>{let{updateTargetText:s,updateTargetHtml:l}=e,{getSelectedTargetLangSettings:i,isUnsupportedLanguage:u}=t,{onTranslationsHaveChanged:c}=n,g=(0,r.S3)(null),p=(0,r.S3)(null),d=(0,r.S3)(!1),h=(0,a.f)(),T=(0,a.f)(),S=o.get("isWriteMode"),f=o.get("isRtfEnabled");c.push(e=>{var t,n,r,a;let o=[],{langContext:s}=e;if(S&&u()){p([]);return}d(!1);let{sourceSentences:l}=s;g(l.map((e,t)=>{let n=function(e,t){let n=[];n.push(e.getWhitespacesBefore());let r=t.getText();if(!r){var a;r=null===(a=e.translation)||void 0===a?void 0:a.getTargetText()}return void 0===r?r:(n.push(r),n.join(""))}(e,s.targetSentences[t]);return n||(d(!0),function(e){let t=e.previousTranslations?e.previousTranslations.slice(0):[],n=[];for(n.push(e.getWhitespacesBefore());;){let e=t.shift();if(e){if(e.getTargetText()){n.push(e.getTargetText());break}}else{n.length&&"... "===n[n.length-1]||n.push("... ");break}}return n.push(e.getWhitespacesAfter()),n.join("")}(e))}).join("").trim());let i=g().toLowerCase().replace(/[!?.,]/g,""),c=[i],h=S?Number.MAX_SAFE_INTEGER:3,T=S?Number.MAX_SAFE_INTEGER:60,f=0,v=(null!==(t=null===(n=window.screen)||void 0===n?void 0:n.availWidth)&&void 0!==t?t:window.innerWidth)>800?45:30,m=S?Number.MAX_SAFE_INTEGER:v;if(1===s.sourceSentences.length&&!d()&&!e.targetIsPredefined){let e=s.sourceSentences[0],t=0;"EN"!==s.getSourceLang()&&"EN"!==s.getTargetLang()&&(t=5);let n=e.getRawTrimmedText().length;if(n<=T&&n>=t&&null!==(r=e.translation)&&void 0!==r&&r.getAlternativeTranslationTexts()){let t=e.translation;null===(a=t.getAlternativeTranslationTexts())||void 0===a||a.filter(e=>{let t=e.text.trim();return t.length&&t.length<=m}).forEach(e=>{let t=e.text.trim(),n={...e,text:t};if(f>=h)return;i=t.toLowerCase().replace(/[!?.,]/g,"");let r=i.split(" "),a=-1!==c.indexOf(i);a||S||r.forEach((e,t)=>{e.length>2&&r.forEach((n,r)=>{n.startsWith(e)&&t!==r&&(a=!0)})}),a||(f+=1,c.push(i),o.push(n))})}}p(o)});let v=(0,r.S3)(null),m=(0,r.S3)(void 0);return(0,r.S1)(v,e=>{e&&(f?l(e.html):s(e.text),h())}),(0,r.S1)(p,e=>{v(null)}),(0,r.S1)(p,e=>{let{lang:t,variant:n}=i();m(n||t.toLowerCase())}),{hasAlternatives:(0,r.G7)([p],e=>!!e&&e.length>0),activeAlternatives:p,alternativesLang:m,selectedAlternative:v,targetText:g,hasUnfinishedResults:d,onTranslationAlternativeClicked:h,onResetClicked:T}})},94162:function(e,t,n){var r=n(84627);n(61606).Z.defineType("/translator/common/batchTranslation",["/translator/core/translateSourceSentences"],e=>{let t;let n=(0,r.S3)(0),a=(0,r.S3)(0),o=(0,r.S3)(0),s=(0,r.S3)(!1),l=(0,r.S3)(!1),i=(0,r.fo)(),u=(0,r.fo)(),c=()=>{s(!0),i(a())},g=()=>{s()&&(s(!1),u(l(),a(),o()),l(!1),n(0))};return e.onBatchedTranslationRequestStarted.push((e,r)=>{if(r.numNotCachedBatchesToTranslate()>1){let s=()=>{a(r.numCharactersToTranslate()||1),o(r.numRemainingCharacters()),n(100-o()/a()*100)},l=setTimeout(()=>{t=r,s(),c(),r.numRemainingCharacters.onValueChanged.push(s),e.onRequestEnded.push(g)},1e3);r.finished.onValueChanged.push(e=>{e&&g(),e&&clearTimeout(l)})}}),{progressPercentage:n.asReadOnly(),isDialogDisplayed:s.asReadOnly(),hasUserRequestedTranslationStop:l.asReadOnly(),stopTranslation:()=>{var e;l(!0),null===(e=t)||void 0===e||e.stopped(!0)},onTranslationProgressDialogDisplayed:i,onTranslationProgressDialogClosed:u}})},71944:function(e,t,n){var r=n(61606),a=n(98808),o=n(5007),s=n(30171);r.Z.defineType("/translator/common/clearText",["/translator/core/domElements","/translator/core/textareas","/translator/webTranslatorCore"],(e,t,n)=>{let r=(0,a.f)(),l=(0,o.S)(),i=(0,s.S3)();return(0,s.S1)(n.sourceIsEmpty,e=>{i(!e)}),{onBeforeClear:r,onBeforeClearAsync:l,canClear:i,clear:()=>{r(),l().then(()=>{n.getActiveLangContext().clearSentences(),t.setTargetTextExplicitly("","internal"),t.updateSourceText(""),e.sourceEdit.blur(),e.sourceEdit.focus()}).catch(e=>console.error("/translator/common/clearText: failed to clear text"))}}})},97561:function(e,t,n){var r=n(75671),a=n(61606),o=n(30171);a.Z.defineType("/translator/common/confirmFreeTranslator",["/translator/environment/featureSet"],e=>{let t=(0,r.O)("LMT_freeTranslator.confirmed",!1,2592e3),n=(0,r.O)("LMT_freeTranslator.confirmedApiPro",!1,2592e3),a=(0,o.G7)([e],e=>{var t,n,r;return(null==e?void 0:null===(t=e.subscription)||void 0===t?void 0:t.inactiveSubscriptionWarning)||(null==e?void 0:null===(n=e.api)||void 0===n?void 0:n.service)==="pro"&&(null==e?void 0:null===(r=e.api)||void 0===r?void 0:r.serviceCatTools)==="none"||!1});return(0,o.S1)([t,n,a],(e,t,n)=>{}),{hasConfirmed:t,hasConfirmedApiPro:n,showWarning:a,confirm:()=>t(!0),confirmApiPro:()=>n(!0)}})},19526:function(e,t,n){n.d(t,{k:function(){return o}});var r=n(76045),a=n(76117);let o=e=>{e.features.define(r.K,[a.C],e=>e)}},90758:function(e,t,n){var r=n(61606),a=n(98808),o=n(93546),s=n(67977),l=n(30171);r.Z.defineType("/translator/common/sendTranslationState",["/translator/webTranslatorCore","/translator/core/languageManagement","/translator/core/translationBackend","/translator/core/config","/translator/core/textareas","/translator/common/observeTextSession","/translator/core/requestHandling","/translator/common/alternativeTranslations","/translator/environment/analyticsSession"],(e,t,n,r,i,u,c,g,p)=>{let d="[sendTranslationState]";if(r.get("CONFIG__IS_PRO"))return;let h=r.get("isWriteMode")?"writeState":"translationState",T=!1,S=Math.floor(1e8*Math.random()),f=(0,a.f)();e.features.with(["/translator/glossary"],e=>{f.push((t,n)=>{if(!e.isGlossaryEnabled())return;n.getTargetSentences().some(e=>Array.isArray(e.highlights)&&e.highlights.some(e=>"glossaryHighlight"===e.type))&&(Array.isArray(t.targetTextWasChangedByUser)||(t.targetTextWasChangedByUser=[]),t.targetTextWasChangedByUser.push("glossary"));let r=n.getSourceLang().toUpperCase(),a=n.getTargetLang().toUpperCase(),o=e.glossaryLangPairSets().find(e=>e.langSource.toUpperCase()===r&&e.langTarget.toUpperCase()===a);o&&o.entries&&(t.glossaryEntries=o.entries.map(e=>`${e.textSource}	${e.textTarget}`).join("\n"))})}),e.features.with(["/translator/write/writeAlternatives"],e=>{let t=e=>t=>{if("alternativesRejected"===e&&t.popupOpenInSeconds<3)return;let n={sourceSentence:t.sourceSentencePointer,targetSentence:t.targetSentencePointer,alternativeSelected:t.alternativeSelected,alternativesShown:t.alternativesShown.map(e=>({text:e.text,variant:e.variant})),alternativeType:t.alternativeType,popupOpenInSeconds:t.popupOpenInSeconds,userScrolled:t.userScrolled,scrollingNeeded:t.scrollingNeeded,userSwitchedAlternativeTab:t.userSwitchedAlternativeTab,alternativesVisibleCount:t.visibleAlternatives.length};E(e,n)};e.onBeforeAlternativeApplied.push(t("alternativeSelected")),e.onAlternativeRejected.push(t("alternativesRejected"))}),e.features.with(["/translator/write/writeSentenceAlternatives"],e=>{e.onBeforeAlternativeApplied.push(e=>{let t={alternativeSelected:e.alternativeSelected,alternativesShown:e.alternativesShown.map(e=>({text:e.text,variant:e.variant})),alternativeType:"sentenceFromBottomList"};E("alternativeSentenceSelected",t)})}),e.features.with(["/translator/write/writeRevert"],e=>{e.onBeforeTargetSentenceReverted.push((e,t)=>{E("revertedToOriginalSentence",{sourceSentence:e,targetSentence:t})})});let v=(0,a.f)();v.push(e=>{e.dl={h:(0,s.fy)("h")(),d:(0,s.fy)("d")(),c:(0,s.fy)("c")(),a:(0,s.fy)("a")(),a2:(0,s.fy)("a2")()}});let m=p.getSessionId(),y=p.getUserId(),x=r.get("userCountry"),w=y?function(e){let t=2166136261;for(let n=e.length-1;n>=0;--n)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}(y)%1e6:0;w&&v.push(e=>{e.uBucket=w}),v.push(e=>{m&&(e.dapSid=m),y&&(e.dapUid=y)}),x&&v.push(e=>{e.userCountry=x});{let e,t=!1,n=e=>{(e.isTrusted||void 0===e.isTrusted)&&(t=!0,window.removeEventListener("mousemove",n))};window.addEventListener("mousemove",n),e=r.get("isApp")?"app":r.get("isMobile")?"mobile":"desktop",f.push((n,r)=>{let a=0;o.$<=1&&(a=1),"desktop"!==e||t||(a*=.5),n.platform={system:e,hScore:a}})}function C(){let e=t.getActiveLangContext(),n=e.getTargetSentences(),a=i.getSourceText(),o=i.getTargetText(),s=[];n.some(e=>e.hasChangedText())&&s.push("manually");let l={};v(l);let c={version:"v1",type:h,lang:{source:e.getSourceLang(),target:e.getTargetLangSettings(),selectedSource:t.getSelectedSourceLang(),selectedTarget:t.getSelectedTargetLangSettings(),interface:(r.get("il")||"").toUpperCase(),preferredLangs:t.getPreferredLangs()},rawCharacterCountSourceText:a.length,rawCharacterCountTargetText:o.length,sourceText:a.substr(0,5e3),targetText:o.substr(0,1e4),targetTextWasChangedByUser:s,textSession:u.getTextSessionId(),browserSession:S,stats:l,platform:{}};return f(c,e),c}f.push((e,t)=>{var n,r;let a=null!==(n=null===(r=g.activeAlternatives())||void 0===r?void 0:r.map(e=>e.text))&&void 0!==n?n:[];a.length&&(e.alternativeTranslations=a)});let A="";function E(e,t){if(void 0===t&&(t={}),r.get("CONFIG__IS_PRO")){console.warn(d,"Should not happen. Safety check.");return}try{T=!0;let r={...C(),...t},a=JSON.stringify(r);if(A===a)return;A=a,r.trigger=e,n.sendAdditionalData(r).catch(e=>{})}catch(e){}}function L(e){return"speech_to_text"===e?{sourceTextTrigger:"speechToText"}:{}}let _=!1;function R(e){(0,l.S1)([u.isTranslationCorrectionSessionActive,u.isPartialTranslationSessionActive],(t,a)=>{if(!t&&!a)return setTimeout(()=>{T&&function(e){try{if(r.get("CONFIG__IS_PRO")){console.warn(d,"Should not happen. Safety check.");return}let t={};v(t);let a={version:"v1",type:`${h}-event`,trigger:e,textSession:u.getTextSessionId(),browserSession:S,stats:t};n.sendAdditionalData(a).catch(e=>{})}catch(e){}}(e)}),"REMOVE"})}return u.onFullTranslation.push(e=>{let t=L(e.updateCausedBy);E("newSourceText",t)}),u.onPartialTranslation.push(e=>{let t=L(e.updateCausedBy);E("changedSourceText",t)}),u.onTranslationCorrection.push(()=>E("changedTargetText")),u.onLanguageSwitchTriggered.push(()=>{_=!0}),t.onSelectedTargetLangSettingsChanged.push(()=>{setTimeout(()=>c.waitForPendingRequests().then(()=>{_?(_=!1,E("languageSwitch")):E("changedTargetLang")}))}),e.features.with(["/translator/web/translationRating"],e=>{e.onTranslationRatingClicked.push(e=>{let{ratingOption:t}=e;R(1===t?"rateResult_good":"rateResult_bad")})}),e.features.with(["/translator/common/copyTargetText","/translator/common/interceptClipboard"],(e,t)=>{let n=!1;e.onBeforeCopy.push(()=>{n=!0}),e.onAfterCopy.push(()=>{n=!1,R("copyTarget")}),t.doUpdateCopiedTranslation.push(()=>{n||R("copyTarget")})}),e.features.with(["/translator/common/llmServices"],e=>{let{onChatCompletion:t,onTextCompletion:n}=e,a=r.get("isWriteMode")?"write":"translator",o=e=>`${a}-${e}__params`;t.push((e,t,n)=>{E(e,{type:o(e),completion:{parameters:t,result:n}})}),n.push((e,t,n)=>{E(e,{type:o(e),completion:{parameters:t,result:n}})})}),{dbg_prepareData:C}})},43101:function(e,t,n){n(61606).Z.defineType("/translator/common/shareUrl",[],()=>{let e=e=>encodeURIComponent(e.replace(/([\\|/])/g,"\\$1")),t=function(t,n,r){void 0===r&&(r=0);let a=[],o=r,s=!1,l="";return t.some((t,r)=>{let i=e(t);if(o+i.length>1900)return s=!0,!0;let u=n[r];return l+=u||"[...]",o+=i.length,a.push(i),!1}),{text:a.join(""),shortened:s,fullTargetText:l}},n=function(t,n,r){void 0===r&&(r=0);let a=[],o=r,s=!1,l="";return t.some((t,r)=>{let i=e(t);if(o+i.length>1900)return s=!0,!0;let u=n[r],c=u&&e(u)||"[...]";return o+c.length>1900?(s=!0,!0):(l+=u&&u||"[...]",o+=i.length+c.length+2,a.push(i+encodeURIComponent("|")+c),!1)}),{text:a.join("|"),shortened:s,fullTargetText:l}},r=(e,t,n,r)=>{let a=e,o="";if(t.length&&n&&r){let e=n.toLowerCase(),s=r.toLowerCase(),l=e===s?e:`${e}/${s}`;a+=o=`#${l}/${t}`}return{url:a,hash:o}},a=(e,a,o,s,l)=>{let i=`${window.location.origin}${window.location.pathname.replace(/(.*?translator[^/]*)(.*)$/i,"$1")}${window.location.search}`,{text:u,shortened:c,fullTargetText:g}=l?n(e,a,i.length):t(e,a,i.length),{url:p,hash:d}=r(i,u,o,s);return{url:p,shortened:c,fullTargetText:g,hash:d}};return{createShareUrl:a,createShareUrlByLangContext:(e,t)=>{let n=e.sourceSentences.map(e=>e.getText()),r=e.sourceSentences.map((t,n)=>{var r;return null===(r=e.targetSentences[n])||void 0===r?void 0:r.getText()});return a(n,r,e.getSourceLang(),e.getTargetLang(),t)},createShareUrlForWrite:(e,n)=>{let a=`${window.location.origin}/write${window.location.search}`,{text:o,shortened:s,fullTargetText:l}=t(e,e,a.length),{url:i,hash:u}=r(a,o,n,n);return{url:i,shortened:s,fullTargetText:l,hash:u}},MAX_TEXT_LENGTH:1900}})},86073:function(e,t,n){var r=n(23092),a=n(61606),o=n(30171);a.Z.defineType("/translator/common/speakSourceText",["/translator/core/selectedLanguages","/translator/core/textareas"],(e,t)=>{let{sourceLanguage:n,onSourceLanguageChanged:a}=e,s=new r.Ou,l=(0,o.G7)([n,s.ready],(e,t)=>{let n=e.variant||e.language;return t&&!!n&&(0,r.T6)(n)}),i=(0,o.G7)([t.isSourceTextEmpty],e=>!e),u=(0,o.G7)([i,l],(e,t)=>e&&t),c=()=>{"stopped"!==s.state()&&s.stop()};return t.isSourceTextEmpty.onValueChanged.push(e=>{e&&c()}),a.push(c),{state:s.state,isVoiceAvailable:l,hasText:i,canSpeak:u,speakOrStopSpeaking:function(e){void 0===e&&(e=1),s.speakOrStopSpeaking(t.getSourceText(),n().variant||n().language,{rate:e})},onSpoken:s.onSpoken}})},27840:function(e,t,n){var r=n(23092),a=n(61606),o=n(30171),s=n(58425);a.Z.defineType("/translator/common/speakTargetText",["/translator/core/selectedLanguages","/translator/core/textareas","/translator/core/requestHandling"],(e,t,n)=>{let{targetLanguage:a,onTargetLanguageChanged:l}=e,i=new r.Ou,u=(0,o.G7)([a,i.ready],(e,t)=>{let n=e.variant||e.language;return!!n&&t&&(0,r.T6)(n)}),c=(0,o.G7)([t.isSourceTextEmpty,n.hasPendingRequestsOfType(s.Xk.TYPE__TRANSLATE_SOURCE)],(e,t)=>!e&&!t),g=(0,o.G7)([t.isTargetTextEmpty,c,u],(e,t,n)=>!e&&t&&n),p=()=>{"stopped"!==i.state()&&i.stop()};return t.isSourceTextEmpty.onValueChanged.push(e=>{e&&p()}),l.push(p),{state:i.state,isVoiceAvailable:u,hasText:c,canSpeak:g,speakOrStopSpeaking:function(e){void 0===e&&(e=1),i.speakOrStopSpeaking(t.getTargetText(),a().variant||a().language,{rate:e})},onSpoken:i.onSpoken}})},65394:function(e,t,n){n.d(t,{z:function(){return a}});var r=n(43714);let a=e=>{let t=e.auth.userType,n=t.wasPro?Math.floor((t.lastLoginTime||0)/864e5):null;return n&&n+7>=(0,r.P)()}},5007:function(e,t,n){n.d(t,{S:function(){return a}});var r=n(4769);function a(){let e=[],t=async function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];if("function"==typeof Promise.allSettled){let t=await Promise.allSettled(e.map(e=>e.apply(void 0,(0,r.Z)(n))));for(let e of t)if("rejected"===e.status)throw e.reason}else await Promise.all(e.map(e=>e.apply(void 0,(0,r.Z)(n))))};return t.push=t=>{e.push(t)},t.remove=t=>{let n=e.indexOf(t);n<0?console.warn("[U.remove] Callback not found",t):e.splice(n,1)},t._procedures=e,t}}}]);