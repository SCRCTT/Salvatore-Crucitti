"use strict";(self.webpackChunk_deepl_gatsby=self.webpackChunk_deepl_gatsby||[]).push([[185],{18761:function(e,n,t){var i=t(66442),o=t(61606),a=t(65224),l={partialHighlightAnimation:"alignedSentenceHighlight-module--partialHighlightAnimation--ATqV4",partialHighlightAnimationWeb:"alignedSentenceHighlight-module--partialHighlightAnimationWeb--Mk8cZ",partialHighlightAnimationApp:"alignedSentenceHighlight-module--partialHighlightAnimationApp--ADoio",hideAlignedSentenceHighlights:"alignedSentenceHighlight-module--hideAlignedSentenceHighlights--bzHFO",alignedSentenceHighlight:"alignedSentenceHighlight-module--alignedSentenceHighlight--5ZnPy"};o.Z.defineType("/translator/common/alignedSentenceHighlight",["/translator/core/highlightManagement","/translator/core/languageManagement","/translator/core/domElements","/translator/common/charCount","/translator/core/requestHandling","/translator/common/textarea/state","/translator/core/textareas"],(e,n,t,o,r,d,g)=>{let s=a.en.ALIGNED_SENTENCE,u=a.J3.ALIGNED_SENTENCE,h=null,p=null,c=null,S=()=>{h&&(h.highlightState.setSentenceHighlight(u,null),e.notifySourceSentencesChanged([h]),h=null),p&&(p.highlightState.setSentenceHighlight(s,null),e.notifyTargetSentencesChanged([p]),p=null)},T=()=>{var e,n;null===(e=g.getTargetDTextarea())||void 0===e||e._rootDomNode.classList.add(l.hideAlignedSentenceHighlights),null===(n=g.getSourceDTextarea())||void 0===n||n._rootDomNode.classList.add(l.hideAlignedSentenceHighlights)},v=()=>{var e,n;null===(e=g.getTargetDTextarea())||void 0===e||e._rootDomNode.classList.remove(l.hideAlignedSentenceHighlights),null===(n=g.getSourceDTextarea())||void 0===n||n._rootDomNode.classList.remove(l.hideAlignedSentenceHighlights)},m=e=>[i.N0?"bg-blue-next-100 dark:bg-blue-next-700 text-neutral-next-900 dark:text-neutral-next-200":"bg-[#E1F0F5] text-[#25282D]",i.N0?l.partialHighlightAnimationApp:l.partialHighlightAnimationWeb,l.alignedSentenceHighlight,e?l.partialHighlightAnimation:""],f=(n,t)=>{var i;n.getId()!==(null===(i=h)||void 0===i?void 0:i.getId())&&(n.highlightState.setSentenceHighlight(u,{classes:m(t),priority:a.JY[a.J3.ALIGNED_SENTENCE]}),h=n,e.notifySourceSentencesChanged([n]))},C=(n,t)=>{var i;n.getId()!==(null===(i=p)||void 0===i?void 0:i.getId())&&(n.highlightState.setSentenceHighlight(s,{classes:m(t),priority:a.VE[a.en.ALIGNED_SENTENCE]}),p=n,e.notifyTargetSentencesChanged([n]))},H=(e,n)=>e&&!n||e&&n&&e.getId()===n.getId(),y=()=>n.getActiveLangContext().getTargetSentences().length>1,E=()=>{let e=t.getSourceEditCursorOffset(),i=n.getActiveLangContext().getSourceSentences(),o=e;for(let e=0;e<i.length;e+=1){let n=i[e],t=n.getText(),a=t.length;if(o<a||o===a&&(0===a||e===i.length-1||!t.endsWith("\n")))return n;o-=a}return null},x=function(e){var t;return(void 0===e&&(e=null),null===e)?null:null!==(t=n.getActiveLangContext().getTargetSentences().find(n=>{var t;return(null===(t=n.getSourceSentence())||void 0===t?void 0:t.getId())===e}))&&void 0!==t?t:null},A=()=>n.getActiveLangContext().getSourceSentences().find(e=>{var n;return e.getId()===(null===(n=c)||void 0===n?void 0:n.getId())}),_=function(e){var n;void 0===e&&(e=!1);let t=x(null===(n=c)||void 0===n?void 0:n.getId());A()&&t&&c&&(f(c,e),C(t,e))},N=e=>{let n=e.getSourceSentence();n&&e&&(C(e),n&&f(n))},L=function(e){void 0===e&&(e=!1),!t.isSelectionInSourceTextarea()||!y()||o.isLimitReached()||(c=E(),_(e))};return d.sourceTextAreaEventMPs.onSelectionChanged.push(e=>{let{startSentence:n,endSentence:t}=e;S(),y()&&H(n,t)&&(c=n,_())}),d.targetTextAreaEventMPs.onSelectionChanged.push(e=>{let{startSentence:n,endSentence:t}=e;S(),y()&&H(n,t)&&N(n)}),d.sourceTextAreaEventMPs.onPasteHandler.push(()=>{L(!1)}),d.sourceTextAreaEventMPs.onPredefinedTextLoaded.push(()=>{L(!1)}),d.sourceTextAreaEventMPs.onTypingAndComposingStoppedHandler.push(()=>{v(),r.waitForPendingRequests().then(()=>{L(!0)}).catch(()=>{})}),d.sourceTextAreaEventMPs.onTypingStartedHandler.push(()=>{S()}),d.sourceTextAreaEventMPs.onComposingStartedHandler.push(()=>{T()}),d.targetTextAreaEventMPs.onComposingStartedHandler.push(()=>{T()}),d.targetTextAreaEventMPs.onTypingStartedHandler.push(()=>{S()}),d.targetTextAreaEventMPs.onTypingAndComposingStoppedHandler.push(()=>{v()}),{}})},92261:function(e,n,t){var i=t(98808),o=t(61606),a=t(66726),l=t.n(a);let r=function(){function e(e,n){this.isTyping=void 0,this.isComposing=void 0,this.timeout=void 0,this.eventHandlers=void 0,this.debouncedStopTyping=void 0,this.isTyping=!1,this.isComposing=!1,this.timeout=null!=e?e:1e3,this.eventHandlers=n,this.debouncedStopTyping=l()(this.stopTyping.bind(this),this.timeout)}var n=e.prototype;return n.textChanged=function(e,n){var t,i,o,a;"paste"===n?null===(t=this.eventHandlers)||void 0===t||null===(i=t.onPasteHandler)||void 0===i||i.call(t):"predefinedState"===n?null===(o=this.eventHandlers)||void 0===o||null===(a=o.onPredefinedTextLoaded)||void 0===a||a.call(o):"typing"===n&&this.startTyping()},n.compositionStateChanged=function(e){e?this.startComposing():this.stopComposing()},n.selectionChanged=function(e){var n,t;!e.startSentence&&!e.endSentence||this.isTypingOrComposing()||null===(n=this.eventHandlers)||void 0===n||null===(t=n.onSelectionChanged)||void 0===t||t.call(n,e)},n.isTypingOrComposing=function(){return this.isTyping||this.isComposing},n.startTyping=function(){var e,n;this.debouncedStopTyping(),this.isTyping||(this.isTyping=!0,null===(e=this.eventHandlers)||void 0===e||null===(n=e.onTypingStartedHandler)||void 0===n||n.call(e))},n.stopTyping=function(){var e,n,t,i;this.isTyping=!1,null===(e=this.eventHandlers)||void 0===e||null===(n=e.onTypingStoppedHandler)||void 0===n||n.call(e),this.isTypingOrComposing()||null===(t=this.eventHandlers)||void 0===t||null===(i=t.onTypingAndComposingStoppedHandler)||void 0===i||i.call(t)},n.startComposing=function(){var e,n;this.isComposing=!0,null===(e=this.eventHandlers)||void 0===e||null===(n=e.onComposingStartedHandler)||void 0===n||n.call(e)},n.stopComposing=function(){var e,n,t,i;this.isComposing=!1,null===(e=this.eventHandlers)||void 0===e||null===(n=e.onComposingStoppedHandler)||void 0===n||n.call(e),this.isTypingOrComposing()||null===(t=this.eventHandlers)||void 0===t||null===(i=t.onTypingAndComposingStoppedHandler)||void 0===i||i.call(t)},e}(),d={onPasteHandler:(0,i.f)(),onPredefinedTextLoaded:(0,i.f)(),onTypingStartedHandler:(0,i.f)(),onTypingStoppedHandler:(0,i.f)(),onComposingStartedHandler:(0,i.f)(),onComposingStoppedHandler:(0,i.f)(),onTypingAndComposingStoppedHandler:(0,i.f)(),onSelectionChanged:(0,i.f)()},g={onPasteHandler:(0,i.f)(),onPredefinedTextLoaded:(0,i.f)(),onTypingStartedHandler:(0,i.f)(),onTypingStoppedHandler:(0,i.f)(),onComposingStartedHandler:(0,i.f)(),onComposingStoppedHandler:(0,i.f)(),onTypingAndComposingStoppedHandler:(0,i.f)(),onSelectionChanged:(0,i.f)()};o.Z.defineType("/translator/common/textarea/state",["/translator/core/textareas","/translator/core/observeSentenceSelection"],(e,n)=>{var t,i;let o=new r(1e3,{onPasteHandler:()=>{d.onPasteHandler()},onPredefinedTextLoaded:()=>{d.onPredefinedTextLoaded()},onTypingStartedHandler:()=>{d.onTypingStartedHandler()},onTypingStoppedHandler:()=>{d.onTypingStoppedHandler()},onComposingStartedHandler:()=>{d.onComposingStartedHandler()},onComposingStoppedHandler:()=>{d.onComposingStoppedHandler()},onTypingAndComposingStoppedHandler:()=>{d.onTypingAndComposingStoppedHandler()},onSelectionChanged:e=>{d.onSelectionChanged(e)}}),a=new r(1e3,{onPasteHandler:()=>{g.onPasteHandler()},onPredefinedTextLoaded:()=>{g.onPredefinedTextLoaded()},onTypingStartedHandler:()=>{g.onTypingStartedHandler()},onTypingStoppedHandler:()=>{g.onTypingStoppedHandler()},onComposingStoppedHandler:()=>{g.onComposingStoppedHandler()},onTypingAndComposingStoppedHandler:()=>{g.onTypingAndComposingStoppedHandler()},onSelectionChanged:e=>{g.onSelectionChanged(e)}});return e.onSourceTextChanged.push((e,n)=>{o.textChanged(e,n)}),e.onTargetTextChanged.push((e,n)=>{a.textChanged(e,n)}),null===(t=e.getSourceDTextarea())||void 0===t||t.onCompositionModeChange.push(e=>{o.compositionStateChanged(e)}),null===(i=e.getTargetDTextarea())||void 0===i||i.onCompositionModeChange.push(e=>{a.compositionStateChanged(e)}),n.onSourceSelectionChanged.push((e,n)=>{o.selectionChanged({startSentence:null==e?void 0:e.sentence,endSentence:null==n?void 0:n.sentence})}),n.onTargetSelectionChanged.push((e,n)=>{a.selectionChanged({startSentence:null==e?void 0:e.sentence,endSentence:null==n?void 0:n.sentence})}),{sourceTextAreaEventMPs:d,targetTextAreaEventMPs:g}})},40293:function(e,n,t){var i=t(61606),o=t(89355),a=t(65224),l=t(26367);i.Z.defineType("/translator/common/alternativeAtPositionHighlight",["/translator/core/highlightManagement","/translator/smartEditing/smartTargetEditing","/translator/core/languageManagement"],(e,n,t)=>{let i=a.lp.ALTERNATIVES_AT_POSITION,r=null,d=()=>{var n;r&&(null===(n=r)||void 0===n||n.highlightState.setInnerSentenceHighlight(i,null),e.notifyTargetSentencesChanged([r]),r=null)},g=(n,d)=>{if(!n||"number"!=typeof d)return;let{word_pos:g,word_end:s}=(0,l.PV)(n.getText(),d,(0,l.T_)(t.getTargetLang())),u={ranges:[{offset:g,length:s-g}],classes:["bg-[#B4DAE8] text-[#01557C] dark:bg-blue-next-600 dark:text-blue-next-300"],validationMode:o.s.SENTENCE_CONTENT_UNCHANGED,priority:a.rF[a.lp.ALTERNATIVES_AT_POSITION],optimizationMode:"visibility"};n.highlightState.setInnerSentenceHighlight(i,u),r=n,e.notifyTargetSentencesChanged([n])};return n.onTargetPopupOpened.push(e=>{let{targetSentence:n,sentenceCursor:t}=e;d(),g(n,t)}),n.onTargetPopupClosed.push(()=>{d()}),{}})},65224:function(e,n,t){var i,o,a;t.d(n,{JY:function(){return u},J3:function(){return d},VE:function(){return g},en:function(){return l},rF:function(){return s},lp:function(){return r}});let l=((i={}).ALIGNED_SENTENCE="aligned_target_sentence_highlight",i),r=((o={}).ALTERNATIVES_AT_POSITION="target_alternatives_at_position_highlight",o.FOCUSED_WORD="target_focused_word_highlight",o),d=((a={}).ALIGNED_SENTENCE="aligned_source_sentence_highlight",a),g={[l.ALIGNED_SENTENCE]:1},s={[r.ALTERNATIVES_AT_POSITION]:1,[r.FOCUSED_WORD]:2},u={[d.ALIGNED_SENTENCE]:1}},5210:function(e,n,t){var i=t(61606),o=t(98808);i.Z.defineType("/translator/common/detectTargetTextModifications",["/translator/smartEditing/updateTargetSentencesFromText"],e=>{let n=(0,o.f)();return e.onUpdateTargetSentencesChanged.push(function(e){let{remainingText:t,remainingTargetSentences:i}=e;(i.length>1||0===i.length&&""!==t)&&n({remainingText:t,remainingTargetSentences:i})}),{onDetectedTargetTextModifications:n}})},92115:function(e,n,t){t.d(n,{g:function(){return g}});var i=t(66726),o=t.n(i),a=t(49359),l=t(89355),r=t(26367),d=t(65224);function g(e){let n,{sentences:t,onUpdateModel:i,onRenderContextualMenuTooltip:g,onCleanupContextualMenuTooltip:s,...u}=e,h=o()((e,n)=>{let t=e.getParentNode();t&&g(n)},500),p=()=>{n&&(document.removeEventListener("keydown",n),document.removeEventListener("scroll",n),n=void 0),h.cancel(),s()},c=(e,t)=>{n||(n=()=>p(),document.addEventListener("keydown",n,{passive:!0}),document.addEventListener("scroll",n,{passive:!0})),h(e,t)};for(let e of t){let n=function(e){let{withTooltipOnClick:n,withTooltipOnHover:t,withColor:i,onRenderTooltip:o,onCleanupTooltip:g}=e,s={mouseenter:(e,n,i,a)=>{t&&o(i[0],n[0])},mouseleave:(e,n,t,i)=>{g(t[0])}};n&&(s.click=(e,n,t,i)=>{g(t[0]),o(t[0],n[0])});let u=(0,a.Ch)(i&&"hover:bg-[#B4DAE8] hover:dark:bg-blue-next-600");return{ranges:(0,r.Jf)(e.text,(0,r.T_)(e.lang)),classes:[u],validationMode:l.s.SENTENCE_CONTENT_UNCHANGED,priority:d.rF[d.lp.FOCUSED_WORD],optimizationMode:"hover",eventListeners:n||t?s:void 0}}({text:e.getText(),onRenderTooltip:c,onCleanupTooltip:p,...u});i(e,n)}return()=>p()}},49029:function(e,n,t){var i=t(61606),o=t(92115),a=t(65224),l=t(57014),r=t(30171);i.Z.defineType("/translator/common/focusedWordHighlight",["/translator/environment/localizedTexts","/translator/core/highlightManagement","/translator/core/languageManagement","/translator/core/textareas","/translator/core/translateSourceSentences"],(e,n,t,i,d)=>{let g=(0,r.S3)(!1),s=(0,r.S3)(!1),u=(0,r.S3)(!1),h=null,p=i=>{var r;null===(r=h)||void 0===r||r(),h=(0,o.g)({sentences:i,lang:t.getTargetLang(),withColor:!0,withTooltipOnClick:g(),withTooltipOnHover:s()&&u(),onRenderContextualMenuTooltip:function(){let n=e.get("translator/contextMenu.tooltip.target");for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];l.iM.apply(void 0,[n].concat(i))},onCleanupContextualMenuTooltip:l.cA,onUpdateModel:(e,n)=>{e.highlightState.setInnerSentenceHighlight(a.lp.FOCUSED_WORD,n)}}),n.notifyTargetSentencesChanged(i)};return i.onTargetTextChanged.push(()=>{p(t.getActiveLangContext().getTargetSentences())}),d.onFinalizeUpdatedTargetSentences.push(e=>{p(e)}),d.onTargetSentencesHaveChanged.push(e=>{p(e.getTargetSentences())}),(0,r.S1)([s,g,u],()=>{p(t.getActiveLangContext().getTargetSentences())}),{enabledTooltipOnHover:u}})},57014:function(e,n,t){t.d(n,{cA:function(){return a},iM:function(){return o}});let i="target-alternatives-tooltip",o=(e,n)=>{let t=document.getElementById(i);t||((t=document.createElement("div")).id=i,t.classList.add("fixed","z-[10000]","rounded-[3px]","bg-[#1B1E25]","px-3","py-1.5","text-xs","text-white"),document.documentElement.appendChild(t)),t.innerText=e,t.classList.add("invisible"),t.classList.remove("hidden");let o=t.getBoundingClientRect(),a=document.documentElement.getBoundingClientRect(),l=n.getBoundingClientRect(),r=Math.min(Math.max(l.x+l.width/2-o.width/2,4),a.width-o.width-4);t.style.left=`${r}px`;let d=l.y+l.height+4;t.style.top=`${d}px`,t.classList.remove("invisible")},a=()=>{let e=document.getElementById(i);null==e||e.classList.add("hidden")}},26367:function(e,n,t){t.d(n,{T_:function(){return l},PV:function(){return d},Jf:function(){return r}});var i=t(11269),o=t(25889);let a=function(){function e(e){this.lang=void 0,this.options=void 0,this.shouldSplitBySpace=void 0,this.lang=e,this.shouldSplitBySpace="JA"!==e&&"ZH"!==e,this.options={granularity:"word"}}var n=e.prototype;return n._splitByChar=function(e){return e.split("")},n._splitByRegex=function(e){return e.match(o.cc)},n._splitString=function(e){return this.shouldSplitBySpace?this._splitByRegex(e):this._splitByChar(e)},n.resolvedOptions=function(){return{locale:this.lang,...this.options}},n.segment=function(e){let n=this._splitString(e),t={*[Symbol.iterator](){for(let t=0;t<n.length;t++)yield{segment:n[t],index:t,input:e}},containing:()=>({segment:"",index:0,input:e})};return t},e}();function l(e){var n;return null!==(n=(0,i._)(e)({granularity:"word"}))&&void 0!==n?n:new a(e)}function r(e,n){if(!n||!e)return[];let t=[],i=0;for(let{segment:o}of n.segment(e))/\S/.test(o)&&t.push({offset:i,length:o.length}),i+=o.length;return t}function d(e,n,t){let i=0;for(let{segment:o}of t.segment(e)){let e=i+o.length;if(n<e)return{word_pos:i,word_end:e};i=e}return{word_pos:0,word_end:0}}},22867:function(e,n,t){var i=t(66442),o=t(61606),a=t(98808);o.Z.defineType("/translator/common/popups",["/translator/core/updateSourceSentences"],e=>{let n=(0,a.f)();return i.N0&&e.onSourceSentencesChanged.push(()=>{n()}),{onHide:n}})},66519:function(e,n,t){var i=t(61606),o=t(30171),a=t(98808);i.Z.defineType("/translator/core/selectedLanguages",["/translator/core/languageManagement"],e=>{let n=e.getSelectedTargetLangSettings(),t=e.getSelectedSourceLang(),i=(0,o.S3)({language:t,variant:""}),l=(0,o.S3)({language:n.lang,variant:n.variant}),r=(0,a.f)(),d=(0,a.f)();return e.onLangChanged.push(e=>{i({language:e,variant:""})}),e.onSelectedTargetLangSettingsChanged.push(e=>{l({language:e.lang,variant:e.variant})}),(0,o.S1)([i],e=>r(e)),(0,o.S1)([l],e=>d(e)),{sourceLanguage:i,targetLanguage:l,onSourceLanguageChanged:r,onTargetLanguageChanged:d,setPredefinedSelectedSourceLanguage:(n,t)=>{e.setUserSelectedSourceLang(n,t)}}})}}]);