"use strict";(self.webpackChunk_deepl_gatsby=self.webpackChunk_deepl_gatsby||[]).push([[4293],{68160:function(e,t,n){n.d(t,{j:function(){return s}});var a=n(27378),r=n(97421),l=n(16575),o=n(49359);let s=Object.create(r.v);s.Button=a.forwardRef((e,t)=>{let{as:n=l.P,...o}=e;return a.createElement(r.v.Button,Object.assign({ref:t,as:n},o))}),s.Button.displayName=r.v.Button.displayName,s.Items=a.forwardRef((e,t)=>a.createElement(r.v.Items,Object.assign({ref:t,className:"group absolute bottom-12 right-0 min-w-[240px] max-w-[400px] rounded-sm border border-neutral-next-100 bg-white py-2 shadow-sm ui-focus-visible:outline-none"},e))),s.Items.displayName=r.v.Items.displayName,s.Item=a.forwardRef((e,t)=>a.createElement(r.v.Item,Object.assign({ref:t,as:"button",className:(0,o.Ch)("ui-active-via-keyboard:outline-3 ui-active-via-keyboard:outline-blue-next-600 ui-active-via-keyboard:outline ui-active-via-keyboard:outline-offset-2","ui-active:bg-neutral-next-50 text-neutral-next-800 w-full truncate px-4 pb-[9px] pt-[7px] text-start font-normal")},e))),s.Item.displayName=r.v.Item.displayName},94427:function(e,t,n){n.d(t,{Y:function(){return r}});var a=n(27378);let r=e=>a.createElement("svg",Object.assign({viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z",vectorEffect:"non-scaling-stroke"}))},40736:function(e,t,n){n.d(t,{k:function(){return l}});var a=n(27378),r=n(53293);let l=(0,r.H)(function(e){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true",className:"dl-icon"},e),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",vectorEffect:"non-scaling-stroke",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"}))})},14389:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var a=n(27378),r=n(14881),l=n(7723),o=n(89060),s=n(61365),i=n(23559),c=n(85893);let d=()=>a.createElement("div",{className:"rounded-inherit h-full w-full bg-white p-6"},a.createElement("div",{className:"flex h-full w-full flex-col items-center justify-center gap-[10%] rounded border border-dashed border-[red] bg-[#FFF2F2] text-base"},a.createElement(i._,null),a.createElement("div",{className:"mx-11 my-5 text-center text-3xl text-[#A03A38]"},a.createElement(c.n,null)))),u=()=>{let{isDropIndicatorVisible:e,dropAreaProps:t}=(0,l.r)(),n=(0,o.mq)(e=>{var t,n;return s.t9.includes(null===(t=e.doc)||void 0===t?void 0:null===(n=t.errorDetails)||void 0===n?void 0:n.ID)});return e?a.createElement("div",t,a.createElement(r.h,null)):n?a.createElement(d,null):null};var E=()=>a.createElement("div",{className:"rounded-inherit absolute inset-0 empty:hidden"},a.createElement(u,null))},57459:function(e,t,n){n.r(t),n.d(t,{default:function(){return nQ}});var a=n(27378),r=n(41945),l=n(50152),o=n(88715),s=n(90985),i=n(9719),c=n(89060),d=n(34681),u=n(49359),E=n(49484),_=n(81138),m=n(32333),T=n(30122),N=n(21362);let D=(0,N.M)(),O=(e,t,n)=>e>1?n("docTrans:proAd.limit.content.daysLeft",{days:e}):t>1?n("docTrans:proAd.limit.content.hoursLeft",{hours:t}):n("docTrans:proAd.limit.content.hourLeft"),A=()=>{let{t:e}=(0,d.$)(["translator_macOS","docTrans"]),t=D(),n=(0,T._K)("docTransFreeLimitResetSeconds"),r=n?parseInt(n,10):2592e3,l=new Date((t+r)*1e3),o=(l.getTime()-new Date().getTime())/1e3;return a.createElement("div",null,a.createElement("div",{className:"UploadLimitProAd-module--wrapper--y2o3o"},a.createElement("img",{src:"https://static.deepl.com/img/icons/file-upload-ad.svg",alt:""}),a.createElement("h3",{className:"UploadLimitProAd-module--title--xpTl2"},e("docTrans:proAd.uploadPanel.headline")),a.createElement("div",{className:"UploadLimitProAd-module--subTitle--Kb85E",dangerouslySetInnerHTML:{__html:e("docTrans:proAd.limit.subheadline")}}),a.createElement("div",{className:"UploadLimitProAd-module--text--ABcGq",dangerouslySetInnerHTML:{__html:O(Math.ceil(o/86400),Math.ceil(o/3600),e)}}),a.createElement(m.Q,{href:"/pro?cta=doctrans-uploadpanel-limit",target:"_blank",variant:"contained",color:"primaryAlt"},e("translator_macOS:webview_ad_pro_short"))))};var I={docTrans__help_popup:"UploadPanel-module--docTrans__help_popup--D5mej",docTrans__help_popup_extra:"UploadPanel-module--docTrans__help_popup_extra--b5j8Z",docTrans__help_popup__desc:"UploadPanel-module--docTrans__help_popup__desc--Gl5sU",docTrans__help_popup__container:"UploadPanel-module--docTrans__help_popup__container--IBu5o"},p=n(85893),f=n(23559),R=n(40096);let S=e=>{let{accept:t,onMountButton:n,onChange:r,tabIndex:l=0,size:o="small",...s}=e,i=(0,a.useRef)(null);return(0,a.useEffect)(()=>{n&&n(i.current)},[n]),a.createElement(a.Fragment,null,a.createElement("label",null,a.createElement("input",{ref:i,type:"file",id:"file-upload_input","data-testid":"doctrans-upload-input",tabIndex:-1,className:"fileInput--nkB_r",accept:t,onMouseDown:e=>e.preventDefault(),onChange:e=>{var t,n,a;(null!==(t=null===(n=e.target)||void 0===n?void 0:null===(a=n.files)||void 0===a?void 0:a.length)&&void 0!==t?t:0)>0&&(r&&r(e),i.current&&(i.current.value=""))}}),a.createElement(R.z,Object.assign({tabIndex:l,size:o},s,{onClick:()=>{var e;null===(e=i.current)||void 0===e||e.click()}}),s.children)))};var g=n(86265),v=n(74011),C=n(53347),L=n(87606),h=n(25663);let y=e=>`.${e.join(",.")}`,U=e=>{let{children:t,...n}=e,r=(0,c.q$)(),l=(0,c.mq)(h.zZ),o=y(Object.keys(l)),s=(0,c.mq)(L.n_)===i.rC.DONE,d=(0,c.mq)(C.cD);return a.createElement(S,Object.assign({size:"medium",accept:o,onClickCapture:e=>{d&&(e.stopPropagation(),r({type:v.V.SET_IS_PRO_QUOTA_MODAL_OPEN,payload:!0}))},onChange:e=>{let t=e.target.files;t&&r((0,g.s)(t,i.qD.FILE_BROWSER))},variant:s?"outline":"contained"},n),t)},x=()=>{let{t:e}=(0,d.$)("docTrans");return a.createElement("div",{className:"DocumentSourceError-module--overlayContainer--zXwsQ DocumentSourceError-module--overlayError--GmMaw"},a.createElement(f._,null),a.createElement("div",{className:"DocumentSourceError-module--formatNotSupportedText--fwvwG"},a.createElement(p.n,null)),a.createElement("div",{className:"DocumentSourceError-module--fileUploadButton--sGJi8"},a.createElement(U,null,e("translator.docTrans.fileUploadButton"))))};var M=n(14881),P=n(7723);function b(e){let{children:t,className:n,...r}=e;return a.createElement("div",Object.assign({"data-testid":"docTrans-panel-content",className:(0,u.Ch)(["Content-module--content--P6Dr1",n])},r),t)}let w=()=>{let e=(0,c.mq)(C.OZ),t=(0,E.rS)(),{0:n,1:r}=(0,a.useState)(!1),l=(0,c.mq)(L.ix),o=(0,c.mq)(C.gY),s=!e&&!l&&o;(0,a.useEffect)(()=>{!n&&s&&(t.track({id:_.Q$.DOCUMENT_TRANSLATOR_VISITED_WITH_FRONTEND_DOCUMENT_LIMIT_REACHED}),r(!0))},[s,n,t]);let{dropAreaProps:i,isDropIndicatorVisible:d}=(0,P.r)();return s?a.createElement(b,null,a.createElement(A,null)):a.createElement(b,{className:`${d?"":"w-full"}`},a.createElement("div",Object.assign({className:(0,u.Ch)(I.docTrans__help_popup,I.docTrans__help_popup_extra),"data-testid":"doctrans-upload-help"},i),d?a.createElement(M.h,null):a.createElement(F,null)))};function F(){let{t:e}=(0,d.$)("docTrans"),t=(0,c.mq)(C.OZ),n=(0,c.mq)(h.L3);return n?a.createElement(x,null):a.createElement("div",{className:(0,u.Ch)("w-full",I.docTrans__help_popup__container)},a.createElement(f._,null),a.createElement("div",{className:(0,u.Ch)("w-full",I.docTrans__help_popup__desc)},a.createElement("div",null,t?a.createElement("p",{className:"text-dark-1 mb-0 text-3xl font-normal"},e("translator.docTrans.helpPopup.includingPDF.reordered--pro")):a.createElement("p",{className:"text-dark-1 mb-0 text-3xl font-normal"},e("translator.docTrans.helpPopup.includingPDF.reordered")),a.createElement("p",{className:"text-dark-4 mb-0 text-base font-normal"},e("translator.docTrans.helpPopup--or"))),a.createElement("div",{className:"pointer-events-auto mt-6"},a.createElement(U,null,e("translator.docTrans.fileUploadButton")))))}var V=n(18307);let G=()=>{let{t:e}=(0,d.$)("docTrans");return a.createElement(b,null,a.createElement("div",{className:"md:mx-15 pointer-events-auto flex flex-row lg:mx-20 xl:mx-36"},a.createElement("div",{className:"flex w-[100%] flex-col pr-0 sm:w-[50%] md:pr-2"},a.createElement("h3",{className:"mb-4 text-left !text-[23px] !font-semibold"},e("doctrans.loginWall.headline")),a.createElement("p",{className:"mb-6 text-left !text-sm !font-normal"},e("doctrans.loginWall.content")),a.createElement(m.Q,{href:"/signup?cta=free-doctrans-signup",className:" primaryAlt w-fit whitespace-nowrap !px-4 !py-2 text-[16px] !font-normal "},e("signUpForFree")),a.createElement("span",{className:"!text-left"},a.createElement("p",{className:"mr-1 inline-block text-left text-xs !font-normal"},e("alreadyRegistered")),a.createElement(V.r,{className:"!text-blue-chill text-left text-xs !font-normal",to:"/login?cta=free-login-doctrans"},e("loginInstead")))),a.createElement("div",{className:"hidden sm:ml-4 sm:flex sm:w-[50%] md:ml-8 lg:ml-8"},a.createElement("img",{src:"https://static.deepl.com/img/doctrans/doctrans_account_required.svg",alt:"",className:"object-contain sm:!w-[90%] lg:!w-[87%]"}))))};var k=n(61365),q=n(37210);let $=()=>{let e=(0,c.mq)(h.PN),t=(0,c.mq)(h.hQ);return a.createElement("div",{className:"SelectedDocument-module--docIconContainer--MSxQU"},a.createElement("div",{className:"SelectedDocument-module--docIconBody--EqqPH"},a.createElement(q.a,{fileExtension:t,size:q.J.big}),a.createElement("p",{className:(0,u.Ch)("text-dark-1 mt-6 mb-0  SelectedDocument-module--fileNameLabel--z22u1","font-normal  text-3xl")},e)))};var H=n(57233),B={upsellMessage:"UpsellMessage-module--upsellMessage--SyKn4"};let Y=()=>a.createElement("hr",{className:"HorizontalLineWithNodge-module--hr--Q+6OY"}),W=()=>{let e=(0,H.bY)("DM-538"),{t}=(0,d.$)(["docTrans"]),n=["more_file_size","editing_capabilities","more_documents"],{0:r}=(0,a.useState)(()=>Math.floor(Math.random()*n.length)),l=(0,c.mq)(C.OZ);return e&&!l?a.createElement("div",{className:B.upsellMessage,style:{marginBottom:0}},a.createElement(Y,null),a.createElement("div",{dangerouslySetInnerHTML:{__html:t(`docTrans:proAd.selected_document.upsell.${n[r]}`)}})):null};var Q=n(65622),Z=n(10215),j=n(65505),z=n(88904);let K=function(e){let{withEdits:t=!1}=void 0===e?{}:e;return(e,n)=>{var a;if((0,Q.H)("CLICK Translate button"),e({type:v.V.USER_HAS_CLICKED_TRANSLATE}),e({type:v.V.SET_USER_REQUESTED_EDIT_MODE,payload:t}),!e((0,z.o)()))return;let r=null===(a=n().documentTranslator)||void 0===a?void 0:a.doc;if(!r)return;let l=r.status,o=null==r?void 0:r.targetLangWithoutVariant,s=(0,L.zL)(n().documentTranslator),c=r.selectedSourceLang===i.jA?r.detectedSourceLang:r.selectedSourceLang;if(!r.targetLangWithoutVariant){console.error("Start document translation missing target language");return}if(l===i.rC.RETRYING_TARGET_LANG&&c===o){console.error("Start document translation with equal source and target language after error");return}s?e((0,j.I)({withEdits:t})).then(()=>{setTimeout(()=>{e((0,Z.N)())},500)}).catch(()=>{}):(e({type:v.V.SET_DOCUMENT_STATUS,payload:i.rC.WAITING_FOR_ANALYSIS}),e((0,Z.N)()))}};var X=n(16575),J=n(77728),ee=n(58820);let et=e=>{var t;return(null===(t=e.doc)||void 0===t?void 0:t.status)===i.rC.RETRYING_TARGET_LANG&&!(0,ee.lU)(e)},en=e=>(0,J.u$)(e)&&!(!(0,J.ER)(e)&&(0,J.Fu)(e)),ea=()=>{let e=(0,c.q$)(),{t}=(0,d.$)("docTrans"),n=(0,c.mq)(ee.sS),r=(0,c.mq)(et);return a.createElement(X.P,{variant:"primary",disabled:r,onClick:()=>e(K()),"data-testid":"doctrans-translation-button"},t("translator.start_translation_info",{translateIntoLang:t(`translateIntoLang.${n}`)}))};var er=n(43396);function el(){let{t:e}=(0,d.$)("docTrans"),t=(0,c.mq)(L.E4),n=(0,c.q$)();return a.createElement(a.Fragment,null,t&&a.createElement(R.z,{onClick:()=>n((0,er.$)()),variant:"text","data-testid":"doctrans-upload-cancel"},e("document.cancelButton")))}var eo=n(93159),es=n(52793);let ei=()=>async(e,t)=>e((0,es.C1)({dapEventId:_.Q$.EVENT_ID_DOCUMENT_TRANSLATOR_EDIT_TRANSLATION_BUTTON_CLICKED})),ec=()=>{let e=(0,c.q$)(),{t}=(0,d.$)("docTrans"),n=(0,c.mq)(et);return a.createElement(X.P,{variant:"basic","data-testid":"doctrans-translation-with-edits-button",onClick:()=>{e(ei()),e(K({withEdits:!0}))},disabled:n},a.createElement("div",{className:"flex flex-row items-center gap-2"},a.createElement("span",{className:"font-semibold text-[#242B34]"},t("editMode.translateAndEdit")),a.createElement(eo.Q,{color:"proDark",size:"small",text:t("editMode.badge")})))},ed=()=>{let e=(0,c.mq)(en);return a.createElement(b,null,a.createElement("div",{className:"flex w-full flex-1 flex-col p-6"},a.createElement("div",{className:"flex flex-1 items-center justify-center p-6"},a.createElement("div",null,a.createElement($,null),a.createElement("div",{className:`mt-4 ${e?"flex flex-col items-center gap-3":""}`},a.createElement(ea,null),e&&a.createElement(ec,null)),a.createElement("div",{className:"mt-2"},a.createElement(el,null)))),a.createElement(W,null)))};var eu=n(72739),eE=n(6029),e_=n(63314);let em=e=>t=>{t({type:v.V.SET_DOCUMENT_METADATA,payload:{selectedSourceLang:e}}),t((0,e_.V)("sourceChange"))},eT=()=>{let{t:e}=(0,d.$)(["docTrans","translator"]),t=(0,c.q$)(),n=(0,c.mq)(e=>e.doc.selectedSourceLang.toLowerCase()),r=(0,c.mq)(e=>{var t,n;return null!==(t=null===(n=e.doc.detectedSourceLang)||void 0===n?void 0:n.toLowerCase())&&void 0!==t?t:""}),l=(0,E.rS)();return((0,a.useEffect)(()=>{l.track({id:_.Q$.DOCUMENT_TRANSLATOR_CONFIRM_DETECTED_LANGUAGE_DISPLAYED})},[l]),n===i.jA||n===r)?null:a.createElement("div",{className:"border-dark-7 bg-dark-8 flex rounded border px-4 py-3"},a.createElement("div",{className:"flex-initial"},a.createElement(eu.T,{className:"text-dark-1 h-6 w-6"})),a.createElement("div",{className:"flex flex-1 flex-col px-3 text-left font-normal"},a.createElement("div",null,e("docTrans:warning.sourceLanguageConfirmation.title",{selectedLangName:e(`translator:shortLang.source.${n}`),detectedLangName:e(`translator:shortLang.source.${r}`)})),a.createElement("div",null,a.createElement("button",{type:"button",onClick:()=>{t(em(i.jA)),t({type:v.V.SET_DOCUMENT_STATUS,payload:i.rC.WAITING_FOR_USER_INPUT}),l.track({id:_.Q$.DOCUMENT_TRANSLATOR_CONFIRM_DETECTED_LANGUAGE_APPLY_CLICKED}),t({type:v.V.INCREASE_SOURCE_LANGUAGE_SELECT_COUNTER})},className:"text-blue-chill hover:text-blue-chill/90 mt-2 block text-base font-medium"},e("docTrans:warning.sourceLanguageConfirmation.helper",{detectedLangName:e(`translator:shortLang.source.${r}`)})))),a.createElement("div",{className:"flex-initial"},a.createElement(eE.P,{onClick:()=>{l.track({id:_.Q$.DOCUMENT_TRANSLATOR_CONFIRM_DETECTED_LANGUAGE_DISMISS_CLICKED}),t({type:v.V.SET_DOCUMENT_STATUS,payload:i.rC.WAITING_FOR_USER_INPUT}),t({type:v.V.CONFIRM_DETECTED_LANGUAGE_DISMISSED})},ariaLabel:e("translator:close")})))},eN=()=>{let e=(0,c.mq)(en);return a.createElement(b,null,a.createElement("div",{className:"flex w-full flex-1 flex-col"},a.createElement("div",{className:"flex-initial"},a.createElement(eT,null)),a.createElement("div",{className:"flex flex-1 items-center justify-center p-6"},a.createElement("div",null,a.createElement($,null),a.createElement("div",{className:`mt-4 ${e?"flex flex-col items-center gap-3":""}`},a.createElement(ea,null),e&&a.createElement(ec,null)),a.createElement("div",{className:"mt-2"},a.createElement(el,null)))),a.createElement(W,null)))};var eD={error__container:"ErrorContainer-module--error__container--HrFP6",error__title:"ErrorContainer-module--error__title--G0gpE",error__text:"ErrorContainer-module--error__text--wC2vA",error__helper:"ErrorContainer-module--error__helper--FYwj2"};let eO=()=>{let{t:e}=(0,d.$)("docTrans"),t=e("error.title"),n=e("error.languages_are_equal.text.2");return a.createElement("div",{className:(0,u.Ch)(eD.error__container),"data-testid":"doctrans-upload-lang-reselect-msg"},a.createElement("h3",{className:eD.error__title},t),a.createElement("div",{className:eD.error__text},n),a.createElement("div",{className:eD.error__helper},e("error.languages_are_equal.helper.3")))};var eA=n(97387);let eI=()=>{let e=(0,c.mq)(L.n_),t=(0,c.mq)(eA.jE),n=(0,c.mq)(ee.gf),r=(0,c.mq)(en);return a.createElement(b,null,a.createElement("div",{className:"flex w-full flex-1 flex-col"},a.createElement("div",{className:"flex-initial"},e===i.rC.RETRYING_TARGET_LANG&&t===n&&a.createElement(eO,null)),a.createElement("div",{className:"flex flex-1 flex-col items-center justify-center p-6"},a.createElement("div",null,a.createElement($,null),a.createElement("div",{className:`mt-4 ${r?"flex flex-col items-center gap-3":""}`},a.createElement(ea,null),r&&a.createElement(ec,null)),a.createElement("div",{className:"mt-2"},a.createElement(el,null)))),a.createElement(W,null)))};var ep=n(85045),ef=n(97911),eR=n(93017),eS=n(10575),eg=n(62450),ev=n(51388),eC={docTrans_document__filename_label:"TargetReady-common-module--docTrans_document__filename_label--CIuQr",docTrans_document__doc_notes:"TargetReady-common-module--docTrans_document__doc_notes--iuzNW",docTrans_document__document_ready_label:"TargetReady-common-module--docTrans_document__document_ready_label--c7tKR",docTrans_document__doc_warning:"TargetReady-common-module--docTrans_document__doc_warning--Qmmm+",docTrans_document__target_ready:"TargetReady-common-module--docTrans_document__target_ready--B9gkJ"},eL=n(94427),eh=n(94232),ey=n(9510);let eU=()=>{let{t:e}=(0,d.$)("docTrans"),t=(0,c.mq)(eR.lX),n=(0,c.mq)(ee.gf),r=(0,ey.v)(n),l=t===eh.H.FORMAL||t===eh.H.INFORMAL;return l?a.createElement("p",{className:"color-dark-1 flex flex-row items-center overflow-hidden text-ellipsis break-all text-base","data-testid":"formality-applied-indicator"},a.createElement(eL.Y,{className:"mr-[6px] h-[18px] w-[18px]","aria-hidden":!0}),t===eh.H.FORMAL?e(r("document.formality.formalApplied")):t===eh.H.INFORMAL?e(r("document.formality.informalApplied")):""):null},ex=()=>{let{t:e}=(0,d.$)("docTrans"),t=(0,c.mq)(eS.AR);return null!==t?a.createElement("p",{className:"color-dark-1 flex flex-row items-center overflow-hidden text-ellipsis break-all text-base","data-testid":"glossary-applied-indicator"},a.createElement(eL.Y,{className:"mr-[6px] h-[18px] w-[18px]","aria-hidden":!0}),e("document.glossary.applied",{glossaryName:t.name})):null};var eM=n(98935);let eP=()=>{var e;let{t}=(0,d.$)("docTrans"),n=(0,c.mq)(eS.KV),r=(0,c.mq)(eS.yv),{0:l,1:o}=(0,a.useState)(!1);return!n||l?null:a.createElement(eM.v,{message:t("document.glossary.notApplied.hint",{glossaryName:null!==(e=null==r?void 0:r.name)&&void 0!==e?e:""}),type:"info",onClose:o})};var eb=n(65490),ew=n(11602),eF=n(25314),eV=n(84627);let eG=e=>{let{children:t,className:n,...r}=e;return a.createElement("button",Object.assign({type:"button",className:(0,u.Ch)("hover:bg-dark-8 max-w-sm shrink-0 truncate px-4 py-2 text-left text-base font-normal text-blue-900",n)},r),t)},ek=()=>{let e=(0,a.useCallback)(()=>(0,eV.OC)("LMT_documentTranslation.hasDownloadedDocxBefore",!1,2592e3),[]),{0:t,1:n}=(0,a.useState)(e()());return{hasDownloadedDocxBefore:t,setHasDownloadedDocxBefore:t=>{e()(t),n(t)}}},eq=()=>{let{t:e}=(0,d.$)(["index","docTrans"]),t=(0,c.q$)(),{hasDownloadedDocxBefore:n,setHasDownloadedDocxBefore:r}=ek();return a.createElement(eb.J,null,l=>{let{open:o}=l;return a.createElement(a.Fragment,null,a.createElement(eb.J.Button,{as:R.z,"data-testid":"doctrans-download-with-file-format-selection"},a.createElement("div",{className:"-mx-2 flex gap-2 font-medium"},e("docTrans:documentReady.downloadButton"),a.createElement(ew.v,{width:24,height:24,className:(0,u.Ch)(o&&"rotate-180","transition-transform")}))),a.createElement(eb.J.Panel,null,a.createElement("div",{className:"border-dark-7 absolute z-10 mt-[0.125rem] flex max-h-80 flex-col gap-2 overflow-y-auto rounded bg-white py-2 shadow"},a.createElement(eG,{className:"dl-doc-download",onClick:()=>t((0,ef.U)({format:"pdf"}))},e("docTrans:documentReady.downloadButton.pdf")),a.createElement(eG,{className:"dl-doc-download","data-testid":"doctrans-download-in-docx-format-button",onClick:()=>{r(!0),t((0,ef.U)({format:"docx"}))}},e("docTrans:documentReady.downloadButton.docx"),!n&&a.createElement("span",{className:"ml-2"},a.createElement(eF.Ct,{color:eF.LD.PRO_DARK,textSize:eF.KE.SMALL,text:e("index:menuEntry.badge.new")}))))))})},e$=e=>{let{fileName:t}=e;return a.createElement("p",{className:"color-dark-1 mb-0 overflow-hidden text-ellipsis break-all text-center text-base","data-testid":"docTrans-target-ready-target-file-name"},t)},eH=()=>{let{t:e}=(0,d.$)("docTrans"),t=(0,c.q$)(),n=(0,c.mq)(L.P3);return n?a.createElement(eq,null):a.createElement(R.z,{className:"dl-doc-download",onClick:()=>t((0,ef.U)()),"data-testid":"doctrans-upload-result-download"},e("documentReady.downloadButton"))},eB=()=>{let{t:e}=(0,d.$)("docTrans"),t=(0,c.mq)(eR.t_),n=(0,c.mq)(eS.W2),r=(0,c.mq)(L.Oq),l=(0,c.mq)(h.hQ),o=(0,c.mq)(ev.A),s=(0,c.mq)(ee.Rw),i=(0,c.mq)(L.yB),u=(0,c.mq)(L.P3),E=e(`documentReady.translationReady.${s}`);return a.createElement("div",{className:"flex flex-col items-center justify-center"},a.createElement("div",{className:"mb-4"},a.createElement(eP,null)),u?a.createElement(ep.r,{className:"h-[72px] w-[72px] text-green-400"}):a.createElement(q.a,{fileExtension:l,size:q.J.big}),i.length>0&&a.createElement("div",{className:"mb-2"},i.map((t,n)=>a.createElement("div",{className:eC.docTrans_document__doc_warning,key:n},a.createElement("span",null,"!"),a.createElement("span",null,e(`${t}`)||t)))),a.createElement("h3",{className:`text-dark-1 mb-0 text-3xl font-normal ${u?"mt-5":"mt-6"}`,"data-testid":"doctrans-upload-result"},E),a.createElement("div",{className:"mt-[6px]"},a.createElement(e$,{fileName:u?(0,eg._)(o):o}),t&&a.createElement(eU,null),n&&a.createElement(ex,null)),!r&&a.createElement("div",{className:"mt-6"},a.createElement(eH,null)),!r&&a.createElement("div",{className:"mt-1"},a.createElement(el,null)))},eY=()=>{let{t:e}=(0,d.$)("docTrans"),t=(0,c.q$)(),n=(0,c.mq)(h.hQ),r=(0,c.mq)(L.yB),l=(0,c.mq)(ev.A),o=(0,c.mq)(ee.Rw),s=(0,c.mq)(h.PN),i=e("documentReady.translationDownloaded",{translation:e(`translation.${o}`,{documentName:s})}),E=a.createElement("h3",{className:(0,u.Ch)("mt-[26px] mb-0",eC.docTrans_document__document_ready_label),"data-testid":"doctrans-upload-result"},i),_=r.length?a.createElement("div",{className:eC.docTrans_document__doc_notes},r.map((t,n)=>a.createElement("div",{className:eC.docTrans_document__doc_warning,key:n},a.createElement("span",null,"!"),a.createElement("span",null,e(t)||t)))):null,m=a.createElement(q.a,{fileExtension:n,size:q.J.big}),T=a.createElement("p",{className:(0,u.Ch)("mt-[6px] mb-0",eC.docTrans_document__filename_label),"data-testid":"docTrans-target-ready-target-file-name"},l),N=a.createElement(R.z,{variant:"contained",className:"dl-doc-download mt-6",onClick:()=>t((0,ef.U)()),"data-testid":"doctrans-upload-result-download"},e("documentReady.downloadAgainButton"));return a.createElement("div",{className:eC.docTrans_document__target_ready},a.createElement("div",{className:"TargetReady-module--docTrans_document__document_ready_grow--GRgs4"},m,E,_,T,N),a.createElement("div",{className:"TargetReady-module--docTrans_document__document_ready_footer--F+o0r"},a.createElement(Y,null),a.createElement("small",{className:"TargetReady-module--docTrans_document__document_ready_additional_text_v2--XCGT8",dangerouslySetInnerHTML:{__html:e("documentReady.subscribeToEditNote.v2")}})))},eW=()=>{let e=(0,c.mq)(C.OZ);return a.createElement("div",{className:"inline-flex h-full w-full flex-1"},a.createElement(b,{className:"w-1/2"},a.createElement(w,null)),a.createElement("div",{className:"border-dark-7 border-l"}),a.createElement(b,{className:"w-1/2"},e?a.createElement(eB,null):a.createElement(eY,null)))};var eQ=n(58504),eZ={proAd:"ProAd-module--proAd--yWtJU",headline:"ProAd-module--headline--pZyFB",subheadline:"ProAd-module--subheadline--SfHsF",body:"ProAd-module--body--ofD84"};let ej=e=>{let{children:t,headline:n,subheadline:r,onLinkClicked:l}=e,o=(0,a.useRef)(null);return(0,a.useEffect)(()=>{l&&(0,eQ.fZ)(o.current).forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),l(e)})})},[o]),a.createElement("div",{className:eZ.proAd,ref:o},a.createElement("div",{className:eZ.headline,dangerouslySetInnerHTML:{__html:n}}),r&&a.createElement("div",{className:eZ.subheadline,dangerouslySetInnerHTML:{__html:r}}),a.createElement("div",{className:eZ.body},t))},ez=()=>{let{t:e}=(0,d.$)("docTrans");return a.createElement("div",{className:"inline-flex h-full w-full flex-1"},a.createElement(b,{className:"w-1/2"},a.createElement(w,null)),a.createElement("div",{className:"border-dark-7 border-l"}),a.createElement(b,{className:"w-1/2"},a.createElement(ej,{headline:e("proAd.moreChars.headline"),subheadline:e("proAd.moreChars.subheadline")},a.createElement("div",{dangerouslySetInnerHTML:{__html:e("proAd.moreChars.content")}}))))},eK=()=>{let{t:e}=(0,d.$)("docTrans");return a.createElement("div",{className:"flex h-full w-full flex-1 flex-row items-center justify-center"},a.createElement(b,{className:"border-r-dark-7 border-r"},a.createElement(w,null)),a.createElement(b,null,a.createElement(ej,{headline:e("proAd.largerDocuments.headline"),subheadline:e("proAd.moreChars.subheadline")},a.createElement("div",{dangerouslySetInnerHTML:{__html:e("proAd.largerDocuments.content")}}))))},eX=()=>{let{t:e}=(0,d.$)("docTrans"),t=(0,c.mq)(C.OZ),n=(0,c.mq)(C.gY);return a.createElement(b,null,n&&!t?a.createElement(A,null):a.createElement(ej,{headline:e("proAd.rateLimit.headline"),subheadline:e("proAd.moreChars.subheadline")},a.createElement("div",{dangerouslySetInnerHTML:{__html:e("proAd.rateLimit.content")}})))};var eJ=n(10204);let e0=()=>{var e;let{t}=(0,d.$)("docTrans"),n=(0,c.mq)(h.hQ),r=null===(e=(0,eJ.M)())||void 0===e?void 0:e.toString(),l=(0,c.mq)(C.OZ);return a.createElement("div",{className:"flex h-full w-full flex-1 flex-row items-center justify-center"},a.createElement(b,{className:"border-r-dark-7 w-1/2 border-r"},a.createElement(w,null)),a.createElement(b,{className:"w-1/2"},a.createElement(ej,{headline:t("proAd.largerDocuments.headline"),subheadline:t(l?"proAd.largerDocuments.starter.subheadline":"proAd.limit.subheadline")},a.createElement("div",{dangerouslySetInnerHTML:{__html:l?t("proAd.largerDocuments.starter.content",{fileExtension:n}):t("proAd.largerDocuments.free.content_n_days",{trialDays:r})}}))))};var e1={container:"DocumentStandardError-module--container--rL35G",innerContainer:"DocumentStandardError-module--innerContainer--ThwL6",title:"DocumentStandardError-module--title--8cN07",text:"DocumentStandardError-module--text--twJFQ",helperText:"DocumentStandardError-module--helperText--+ciBW",trialPromotion:"DocumentStandardError-module--trialPromotion--uJWC7",documentName:"DocumentStandardError-module--documentName--Mik0S"};let e2=e=>{let t,{errorObject:n}=e,{t:r}=(0,d.$)(["docTrans","messages"]),l=(0,c.mq)(h.hQ),o=(0,c.mq)(h.zZ),s=o[l],i=(0,c.mq)(h.uD),u=(0,c.mq)(h.PN),E=(0,eJ.M)(),_=r("docTrans:error.title"),m="",T="";switch(n){case k.Dx.FILESIZE__FILE_TOO_LARGE:case k.Dx.FILESIZE__FILE_VIOLATES_INTERNAL_CONSTRAINTS:t=r("docTrans:error.file_too_large_pro.text");break;case k.Dx.FILESIZE__FILE_TOO_LARGE_PRO:t=r("docTrans:error.file_too_large_pro.text"),m=r("docTrans:error.file_too_large_pro.helper",{fileSize:i.toString(),fileSizeLimit:s.toString(),fileType:`.${l}`});break;case k.Dx.FILESIZE__FILE_CONTAINS_TOO_MANY_CHARACTERS_FREE:t=r("docTrans:error.file_contains_too_many_characters_free.text"),m=r("docTrans:error.file_contains_too_many_characters_free.helper"),T=r("docTrans:error.file_contains_too_many_characters_free.trial_promotion_n_days",{trialDays:E.toString()});break;case k.Dx.FILESIZE__FILE_CONTAINS_TOO_MANY_CHARACTERS_PRO:t=r("docTrans:error.file_contains_too_many_characters_pro.text");break;case k.Dx.FILESIZE__FILE_CONTAINS_TOO_LARGE_PARAGRAPH:t=r("docTrans:error.file_contains_too_large_paragraphs.text"),m=r("docTrans:error.file_contains_too_large_paragraphs.helper");break;case k.Dx.INVALID_OR_MISSING_FILE_DATA:t=r("docTrans:error.invalid_or_missing_file_data.text"),m=r("docTrans:error.invalid_or_missing_file_data.helper");break;case k.Dx.INVALID_SOURCE_LANGUAGE:t=r("docTrans:error.invalid_source_language.text"),m=`${r("docTrans:error.invalid_source_language.helper_one")}&nbsp${r("docTrans:error.invalid_source_language.helper_two")}`;break;case k.Dx.TOO_MANY_NON_DOWNLOADED_DOCUMENTS:t=r("docTrans:error.too_many_non_downloaded_documents.text"),m=r("docTrans:error.too_many_non_downloaded_documents.helper");break;case k.Dx.TEMPORARILY_BLOCKED_GLOBAL_HEAVY_PDF_USAGE:t=r("docTrans:error.temporarily_blocked_because_of_global_heavy_usage.text"),m=r("docTrans:error.temporarily_blocked_because_of_global_heavy_usage.helper");break;case k.Dx.CONVERSION_FROM_PDF_FAILED:case k.Dx.CONVERSION_TO_PDF_FAILED:t=r("docTrans:error.conversion_from_or_to_pdf_failed.text"),m=r("docTrans:error.conversion_from_or_to_pdf_failed.helper");break;case k.Dx.INFLIGHT_LIMIT_REACHED:t=r("docTrans:error.inflight_limit_reached.text"),m=r("docTrans:error.inflight_limit_reached.helper");break;case k.Dx.CURRENTLY_UNAVAILABLE:case k.Dx.REQUEST_TIMEOUT:t=r("messages:error.serverError");break;case k.Dx.NO_PERMISSION_TO_TRANSLATE_PDF_FILES:t=r("docTrans:document.status_error"),m=r("docTrans:notAllowedModal.title");break;case k.Dx.DOCUMENT_TRANSLATION_UNSUPPORTED_ENCODING:t=r("docTrans:error.conversion_from_or_to_pdf_failed.text"),m=r("docTrans:error.unsupported_encoding.helper");break;case k.Dx.UNSUPPORTED_DOCUMENT_VERSION:t=r("docTrans:error.unsupported_document_version.text"),m=r("docTrans:error.unsupported_document_version.helper");break;case k.Dx.DEADLINE_EXCEEDED:t=r("docTrans:error.deadline_exceeded.text"),m=r("docTrans:error.deadline_exceeded.helper");break;default:t=r("docTrans:document.status_error"),m=null!=n&&n.TEXT_KEY?r(`docTrans:error.${null==n?void 0:n.TEXT_KEY}`):(null==n?void 0:n.TEXT)||(null==n?void 0:n.ID)}return a.createElement("div",{className:e1.container},a.createElement("div",{className:e1.innerContainer},a.createElement("h3",{className:e1.title},_),a.createElement("div",{className:e1.text},a.createElement("span",{dangerouslySetInnerHTML:{__html:t}})),a.createElement("div",{className:e1.helperText},a.createElement("span",{dangerouslySetInnerHTML:{__html:m}})),a.createElement("div",{className:`${T?"":"hidden"} ${e1.trialPromotion}`},a.createElement("span",{dangerouslySetInnerHTML:{__html:T||""}})),a.createElement("div",{className:"mt-4 flex flex-row text-base font-light"},a.createElement(q.a,{fileExtension:l,size:q.J.smaller}),a.createElement("div",{className:e1.documentName},u))))},e3=()=>{let e=(0,c.mq)(L.ix);return a.createElement(b,null,a.createElement("div",{className:"flex w-full flex-1 flex-col"},a.createElement("div",null,a.createElement(e2,{errorObject:e})),a.createElement("div",{className:"flex flex-1 items-center justify-center p-6"},a.createElement("div",null,a.createElement(w,null)))))},e5=()=>{let{t:e}=(0,d.$)("docTrans");return a.createElement(b,null,a.createElement("div",{className:"flex w-full grow items-center justify-center border border-dashed border-[#FF9F9E] bg-[#FFF2F2]"},a.createElement("div",null,a.createElement(f._,null),a.createElement("div",{className:"mt-7 text-3xl font-normal text-[#A03A38]"},a.createElement(p.n,null)),a.createElement("div",{className:"pointer-events-auto mt-6"},a.createElement(U,null,e("translator.docTrans.fileUploadButton"))))))};function e9(e){let{className:t,...n}=e;return a.createElement("div",Object.assign({className:(0,u.Ch)(["ProgressBar-module--progressBar--I9FFc",t]),role:"progressbar"},n),a.createElement("div",null))}let e7=()=>a.createElement("div",{className:"DocumentTranslatingImage-module--docTrans_document__progress_image--Qf9KX"},a.createElement("img",{src:"https://static.deepl.com/img/icons/icon_feat_doc_v2.svg",alt:""})),e6=()=>{let{t:e}=(0,d.$)("docTrans"),t=(0,c.mq)(ee.sS),n=e("document.status_translating",{translateIntoLang:e(`translateIntoLang.${t}`)});return a.createElement("h3",{id:"document-translating-heading",className:"text-dark-1 mb-0 text-3xl font-normal [&>em]:not-italic","data-testid":"doctrans-upload-status-msg",dangerouslySetInnerHTML:{__html:n}})};var e4={document__remaining_time_label:"SlowTranslationText-module--document__remaining_time_label--BZLsq",document__faster_translation_ad_without_link_icon:"SlowTranslationText-module--document__faster_translation_ad_without_link_icon--oq-xf"};let e8=()=>{let{t:e}=(0,d.$)("docTrans"),t=(0,T._K)("secondsTillRemainingTimeText"),n=t?parseInt(t,10):30,{0:r,1:l}=(0,a.useState)(""),o=(0,c.mq)(C.OZ);(0,a.useEffect)(()=>{let t=setTimeout(()=>{o?l(e("document.bePatient")):l(e("document.fasterTranslationsAd").replace("<a>",'<a href="/pro?cta=faster-translation-ad" target="_blank" rel="noopener noreferrer">'))},1e3*n);return()=>clearTimeout(t)},[]);let s=o?e4.document__remaining_time_label:e4.document__faster_translation_ad_without_link_icon;return a.createElement("p",{className:s,dangerouslySetInnerHTML:{__html:r}})},te=()=>a.createElement(b,null,a.createElement("div",{className:"flex w-full grow flex-col items-center justify-center"},a.createElement(e7,null),a.createElement(e6,null),a.createElement(e9,{"aria-labelledby":"document-translating-heading",className:"DocumentTranslatingPanel-module--document__progress_bar--ftgb+"}),a.createElement(e8,null),a.createElement(el,null))),tt=()=>{let{t:e}=(0,d.$)("docTrans");return a.createElement(b,null,a.createElement("div",{className:"flex w-full grow flex-col items-center justify-center"},a.createElement("p",{id:"document-uploading-heading",className:"text-dark-1 mb-0 text-3xl font-normal","data-testid":"doctrans-upload-status-msg"},e("document.status_uploading")),a.createElement(e9,{className:"DocumentUploading-module--docTrans_document__upload_progress--n2uEd","aria-labelledby":"document-uploading-heading"}),a.createElement("div",{className:"mt-3"},a.createElement(el,null))))};var tn=n(65631),ta=n(66042),tr=n(31662),tl=n(80013);let to=()=>async(e,t)=>e((0,es.C1)({dapEventId:_.Q$.EVENT_ID_DOCUMENT_TRANSLATOR_LANDED_ON_EDIT_MODE}));var ts=n(14507),ti=n(79213),tc=n(4482),td=n(23351);let tu=()=>{let{t:e}=(0,d.$)("translator"),t=(0,td.$)(),{sourceRef:n}=(0,ti.u)();return a.createElement("section",{"aria-labelledby":"edit-mode-source-heading",className:"relative mb-0 h-full border border-transparent transition-colors"},a.createElement("div",{className:"flex h-full flex-col"},a.createElement("h3",{id:"edit-mode-source-heading",className:"sr-only"},e("sourceText_heading")),a.createElement("div",{className:"relative flex-1"},a.createElement(ts.o,{ref:n,className:"h-full min-h-0 w-full overflow-auto opacity-70 [&>div]:min-w-0 [&>div]:py-6 [&>div]:pl-6 [&>div]:pr-14","data-testid":"document-edit-source-input","aria-labelledby":"edit-mode-source-heading",dir:null!=t&&t.isRtl?"rtl":"ltr"}),a.createElement("div",{className:"absolute right-4 top-4"},a.createElement(tc.H,{tooltip:e("translator.sourceTextArea.readonly")})))))};var tE=n(90619);let t_=()=>async(e,t)=>e((0,es.C1)({dapEventId:_.Q$.EVENT_ID_DOCUMENT_TRANSLATOR_DISCARD_BUTTON_CLICKED})),tm=e=>{let{showDialog:t,onClose:n,onDiscard:r}=e,{t:l}=(0,d.$)("docTrans");return a.createElement(tE.V,{open:t,onClose:n},a.createElement(tE.V.Overlay,null),a.createElement(tE.V.Content,null,a.createElement(tE.V.Title,null,l("editMode.discardDialog.title")),a.createElement(tE.V.Description,null,l("editMode.discardDialog.description")),a.createElement(tE.V.Buttons,null,a.createElement(X.P,{variant:"outline",onClick:n},l("editMode.discardDialog.actions.cancel")),a.createElement(X.P,{variant:"danger",onClick:r},l("editMode.discardDialog.actions.discard")))))};function tT(){let{t:e}=(0,d.$)("docTrans"),t=(0,c.q$)(),{0:n,1:r}=(0,a.useState)(!1);return a.createElement(a.Fragment,null,a.createElement(X.P,{type:"button",onClick:()=>r(!0),variant:"link","data-testid":"doctrans-editing-discard",className:"mx-2"},e("editMode.discard")),a.createElement(tm,{onDiscard:()=>{t(t_()),t((0,er.$)()),r(!1)},showDialog:n,onClose:()=>r(!1)}))}var tN=n(30386),tD=n(8277);function tO(){return a.createElement(a.Fragment,null,a.createElement(tD.P,null),a.createElement(tN.X,null))}var tA=n(93440),tI=n(50514),tp=n(61011);let tf=e=>(t,n)=>{var a,r,l,o;let s=null===(a=n().documentTranslator)||void 0===a?void 0:null===(r=a.doc)||void 0===r?void 0:r.id,c=null===(l=n().documentTranslator)||void 0===l?void 0:null===(o=l.doc)||void 0===o?void 0:o.key;return s&&c?(0,tA._)({documentId:s,documentKey:c,editingData:e,isPro:(0,C.OZ)(n().documentTranslator)}).then(()=>{t({type:v.V.SET_DOCUMENT_STATUS,payload:i.rC.WAITING_FOR_REASSEMBLY}),t((0,Z.N)())}).catch(e=>{throw e}).catch(e=>{var n,a;let r=null===(n=e.data)||void 0===n?void 0:n.status,l={error:null===(a=e.data)||void 0===a?void 0:a.responseData};t((0,tI.Oq)((0,tp.rH)(r,l)))}):Promise.reject()},tR=e=>({type:v.V.SET_USER_CHOSE_TO_FINISH_WITH_EDITS,payload:e});var tS=n(712);let tg=e=>{let{children:t,...n}=e;return a.createElement("div",Object.assign({role:"group",className:"flex flex-row space-x-px"},n),a.Children.map(t,(e,n)=>{if(a.isValidElement(e)){let r=n===a.Children.count(t)-1,l="focus:!z-10";return 0===n?l+=" !rounded-r-none":r?l+=" !rounded-l-none":l+=" !rounded-l-none !rounded-r-none",a.cloneElement(e,{className:l})}return e}))};var tv=n(68160),tC=n(52370);let tL=a.forwardRef((e,t)=>{let{pushButtonContent:n,dropDownButtonLabel:r,dropDownItems:l,onPushButtonClicked:o,pushButtonTestid:s,onDropDownItemClicked:i,onDropDownOpened:c}=e;return a.createElement(tv.j,{ref:t},e=>{let{open:t}=e;return a.createElement("div",{className:"relative"},a.createElement(tg,null,a.createElement(X.P,{variant:"primary",onClick:o,"data-testid":s},n),a.createElement(tv.j.Button,{as:tC.K,variant:"primary","aria-label":r,icon:ew.v,onClick:()=>!t&&(null==c?void 0:c())})),a.createElement(tv.j.Items,null,l.map((e,t)=>a.createElement(tv.j.Item,{key:null==e?void 0:e.toString(),as:"button",onClick:()=>i(t)},e))))})});var th=n(31326),ty=n(16745);let tU=()=>async(e,t)=>e((0,es.C1)({dapEventId:_.Q$.EVENT_ID_DOCUMENT_TRANSLATOR_DONE_BUTTON_CLICKED})),tx=()=>async(e,t)=>e((0,es.C1)({dapEventId:_.Q$.EVENT_ID_DOCUMENT_TRANSLATOR_DONE_BUTTON_OPTIONS_WITHOUT_EDITS_CLICKED})),tM=()=>async(e,t)=>e((0,es.C1)({dapEventId:_.Q$.EVENT_ID_DOCUMENT_TRANSLATOR_DONE_BUTTON_OPTIONS_WITH_EDITS_CLICKED})),tP=()=>async(e,t)=>e((0,es.C1)({dapEventId:_.Q$.EVENT_ID_DOCUMENT_TRANSLATOR_DONE_BUTTON_OPTIONS_CLICKED}));var tb=n(53910),Text=n(59491),tw=n(392),tF=n(82248);let tV=()=>{let{0:e,1:t}=(0,a.useState)(!1),n=(0,tF.u)();return(0,a.useEffect)(()=>{null!=n&&n.targetText&&t(!0)},[null==n?void 0:n.targetText]),e};function tG(e){let{children:t}=e,{t:n}=(0,d.$)("docTrans"),[r,l]=(0,tw.z)(()=>(0,eV.OC)("LMT_documentTranslation.hasSeenExportTranslationOnboarding",!1,2592e3)),o=()=>l(!0),s=tV();return a.createElement(tb.Q,{open:!r&&s,align:"center",side:"top",triggerSlot:t,variant:"brand",withArrow:!0,onOpenChange:e=>{e||o()}},a.createElement("span",{className:"flex max-w-xs flex-col"},a.createElement(Text.x,{as:"h2",variant:"heading-5",className:"mb-2 text-white"},n("editMode.doneButton.onboarding.title")),a.createElement(Text.x,{className:"baseline mb-4 text-white",variant:"caption"},n("editMode.doneButton.onboarding.text")),a.createElement("div",{className:"flex justify-end"},a.createElement(X.P,{size:"small",onClick:o},n("editMode.doneButton.onboarding.ok")))))}let tk=()=>{let e=(0,c.mq)(J.g3),t=(0,th.d)("/translator/core/languageManagement"),n=(0,a.useCallback)(()=>{if(!t)throw Error("Unexpected error: Can't find language management");return(0,ty.T)(e,t.getActiveLangContext().targetSentences)},[t,e]);return n},tq=()=>{let{t:e}=(0,d.$)("docTrans"),t=(0,c.q$)(),n=(0,c.mq)(J.g3),r=tk(),l=[e("editMode.doneButton.downloadOriginal"),e("editMode.doneButton.downloadEdited")],o=()=>{t(tf(n))},s=()=>{t(tR(!0)),t(tf(r()))};return a.createElement(tS.W,{tip:e("editMode.doneButton.tooltip")},a.createElement(tG,null,a.createElement(tL,{pushButtonContent:e("editMode.doneButton.alternative"),pushButtonTestid:"doctrans-editMode-doneButton",dropDownButtonLabel:e("editMode.doneButton.more"),dropDownItems:l,onPushButtonClicked:()=>{t(tU()),s()},onDropDownItemClicked:e=>{0===e?(t(tx()),o()):(t(tM()),s())},onDropDownOpened:()=>{t(tP())}})))},t$=()=>{let e=(0,c.mq)(h.PN);return a.createElement("div",{className:"border-neutral-next-100 rounded-b-inherit sticky bottom-0 z-[4] flex flex-row items-center justify-center border-t bg-white p-2"},a.createElement("span",{className:"m-2 truncate px-4 text-base font-semibold"},e||"sample document.pdf"),a.createElement("div",{className:"h-10 min-w-[80px]"},a.createElement(tO,null)),a.createElement("div",{className:"grow"}),a.createElement("div",{className:"mr-2"},a.createElement(tT,null)),a.createElement(tq,null))};var tH=n(19332),tB=n(3650);let tY=()=>{let{targetRef:e}=(0,ti.u)(),{t}=(0,d.$)("translator"),n=(0,tB.C)(),{0:r,1:l}=(0,a.useState)(!1);return a.createElement("section",{"aria-labelledby":"edit-mode-target-heading",className:(0,u.Ch)("flex h-full flex-col transition-colors border relative mb-0",r&&"border-blue-chill",!r&&"border-transparent")},a.createElement("h3",{id:"edit-mode-target-heading",className:"sr-only"},t("targetText_heading")),a.createElement("div",{className:"relative flex flex-1 flex-col"},a.createElement(tH.o,null),a.createElement(ts.o,{ref:e,className:(0,u.Ch)("last:grow w-full overflow-auto","[&>div]:py-6 md:[&>div]:pl-9 [&>div]:px-6 [&>div]:min-w-0"),onFocus:()=>l(!0),onBlur:()=>l(!1),"data-testid":"doctrans-edit-mode-translator-target-input","aria-labelledby":"edit-mode-target-heading",dir:null!=n&&n.isRtl?"rtl":"ltr"})))},tW=(e,t,a)=>{(0,ta.g)(e,t,a),Promise.all([n.e(5320),n.e(4169),n.e(1870),n.e(2136),n.e(2338),n.e(3315),n.e(185),n.e(5105),n.e(1023)]).then(n.bind(n,96381)).then(n=>{n.default(e,t,a)}).catch(e=>console.error(e))},tQ=()=>{let e=(0,ta.L)(tW),t=(0,c.mq)(eA.Fd),n=(0,c.mq)(ee.V0),r=(0,c.mq)(J.qg),l=(0,c.q$)();return(0,a.useEffect)(()=>()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),(0,a.useEffect)(()=>{l(to())},[l]),a.createElement(tr.p,{translatorConfig:{id:"docTransEdit",initialState:{checked:!0,sourceLangcode:t,sourceChains:null==r?void 0:r.sourceChains,targetLangcode:n,targetChains:null==r?void 0:r.targetChains},readonlySourceSide:!0,isRtfEnabled:!1,maxSourceLineLength:999999999},onTranslatorInitialized:e},a.createElement(tn.I,{configurationBar:null,sourceArea:a.createElement(tu,null),targetArea:a.createElement(tY,null)}),a.createElement(t$,null),a.createElement(tl.hZ,{disableDragging:!0}))},tZ=()=>{let{t:e}=(0,d.$)("docTrans");return a.createElement(b,null,a.createElement("div",{className:"flex w-full grow flex-col items-center justify-center"},a.createElement(e7,null),a.createElement("span",{id:"document-waiting-for-reassembly-heading"},e("editMode.updatingTranslation")),a.createElement(e9,{"aria-labelledby":"document-waiting-for-reassembly-heading",className:"mb-6 mt-3"}),a.createElement(el,null)))},tj=()=>{let{t:e}=(0,d.$)("docTrans"),t=(0,c.q$)();return(0,a.useEffect)(()=>{t({type:v.V.SET_USER_HAS_SEEN_FILE_DOES_NOT_SUPPORT_EDIT_MODE_ERROR})},[t]),a.createElement("div",{className:(0,u.Ch)(eD.error__container),"data-testid":"doctrans-file-too-large-to-edit-error"},a.createElement("h3",{className:eD.error__title},e("error.title")),a.createElement("div",{className:eD.error__text},e("editMode.error.fileNotEligible.text")),a.createElement("div",{className:eD.error__helper},e("editMode.error.fileNotEligible.subText")))},tz=()=>async(e,t)=>e((0,es.C1)({dapEventId:_.Q$.EVENT_ID_DOCUMENT_TRANSLATOR_EDIT_TRANSLATION_ERROR_DISPLAYED})),tK=()=>{let e=(0,c.q$)();return(0,a.useEffect)(()=>{e(tz())},[e]),a.createElement(b,null,a.createElement("div",{className:"flex w-full flex-1 flex-col"},a.createElement("div",{className:"flex-initial"},a.createElement(tj,null)),a.createElement("div",{className:"flex flex-1 flex-col items-center justify-center p-6"},a.createElement("div",null,a.createElement($,null),a.createElement("div",{className:"mt-6"},a.createElement(ea,null)),a.createElement("div",{className:"mt-2"},a.createElement(el,null))))))},tX=()=>{var e;let t=(0,c.mq)(L.n_),n=(0,c.mq)(L.CT),r=(0,c.mq)(C.w6),l=null===(e=(0,c.mq)(L.ix))||void 0===e?void 0:e.ID;if(r)return a.createElement(G,null);let o=null;switch(t){case i.rC.EMPTY:o=a.createElement(w,null);break;case i.rC.UPLOADING:o=a.createElement(tt,null);break;case i.rC.WAITING_FOR_TARGET_LANG:case i.rC.WAITING_FOR_USER_INPUT:o=a.createElement(ed,null);break;case i.rC.WAITING_FOR_ANALYSIS:o=n?a.createElement(te,null):a.createElement(ed,null);break;case i.rC.EDITING:o=a.createElement(tQ,null);break;case i.rC.WAITING_FOR_REASSEMBLY:o=a.createElement(tZ,null);break;case i.rC.WAITING_FOR_TRANSLATION:case i.rC.PREPARING_FOR_EDITING:o=a.createElement(te,null);break;case i.rC.WAITING_FOR_SOURCE_LANG_CONFIRMATION:o=a.createElement(eN,null);break;case i.rC.RETRYING_TARGET_LANG:o=a.createElement(eI,null);break;case i.rC.CONFIRM_EDIT_UNAVAILABLE:o=a.createElement(tK,null);break;case i.rC.DONE:o=a.createElement(eW,null);break;case i.rC.ERROR:switch(l){case k.Dx.FILESIZE__FILE_LARGER_THAN_STARTER.ID:o=a.createElement(e0,null);break;case k.Dx.BLOCKED.ID:o=a.createElement(eX,null);break;case k.Dx.FILESIZE__FILE_TOO_LARGE_FREE.ID:o=a.createElement(eK,null);break;case k.Dx.FILESIZE__FILE_CONTAINS_TOO_MANY_CHARACTERS_FREE.ID:o=a.createElement(ez,null);break;case k.Dx.FILE_COUNT_NOT_SUPPORTED.ID:case k.Dx.FORMAT_NOT_SUPPORTED.ID:o=a.createElement(e5,null);break;default:o=a.createElement(e3,null)}break;default:o=null}return o};var tJ=n(56507),t0=n(62624),t1=n(74966),t2=n(17598);let t3=e=>({type:v.V.SET_IS_GLOSSARY_ACTIVE,payload:e}),t5=e=>({type:v.V.SET_SELECTED_GLOSSARY,payload:e}),t9=e=>({type:v.V.SET_GLOSSARIES,payload:e});var t7=n(98330);let t6=a.lazy(()=>Promise.all([n.e(904),n.e(149),n.e(7614),n.e(4560),n.e(9495),n.e(3800)]).then(n.bind(n,34419))),t4=e=>{let{children:t}=e,{maxEntriesPerGlossary:n,maxGlossaries:r,sharing:l,termbaseService:o}=(0,c.mq)(eS.HC),s=(0,c.mq)(C.V2),i=(0,c.mq)(C.jT),u=(0,c.mq)(C.OZ),E=(0,c.q$)(),_=(0,c.mq)(t7.uq),m=(0,a.useCallback)(e=>{let t=_.find(t=>(null==t?void 0:t.name)===e);return(0,t7.Ak)(t)},[_]),T=(u?"https://api.deepl.com/jsonrpc":"https://www2.deepl.com/jsonrpc").replace(/\/jsonrpc$/,"/termbases/v2/jsonrpc");return a.createElement(a.Suspense,{fallback:null},a.createElement(t6,{termbaseService:o,maxEntriesPerGlossary:n,maxGlossaries:r,sharing:l,sourceLang:"",targetLang:"",uploadEnabled:!1,downloadEnabled:!1,backendUrl:T,track:()=>{},interfaceLanguage:s,checkReleaseGroups:m,isSourceLangDetected:!1,onUpgradeNeeded:()=>{},onInitialised:(e,t,n)=>{E(t3(e)),E(t5(t)),E(t9(n))},translate:d.$,enterpriseStorage:i},t))},t8=e=>{let{children:t}=e,n=(0,c.mq)(eS.W2);return n?a.createElement(t4,null,t):a.createElement(a.Fragment,null,t)},ne=a.lazy(()=>Promise.all([n.e(904),n.e(149),n.e(7614),n.e(4560),n.e(9495),n.e(3800)]).then(n.bind(n,49535)));var nt=()=>{let e=(0,c.q$)(),t=(0,c.mq)(L.q6);return a.createElement(a.Suspense,{fallback:null},a.createElement(ne,{disabled:t,border:!0,className:"h-10 min-w-[125px]",onTermbaseChange:t=>{e(t5(t))},onActiveChange:t=>{e(t3(t))},preventEditing:!0}))};let nn=()=>{let e=(0,c.mq)(eS.W2);return e?a.createElement(nt,null):null};var na=n(58779),nr=n(70676),nl=n(58920);let no=e=>t=>{t({type:v.V.SET_SELECTED_FORMALITY_MODE,payload:e}),(0,nl.y)()(e)},ns=e=>{let{useOldDesign:t=!1}=e,n=(0,c.q$)(),r=(0,c.mq)(eR.Kv),l=(0,c.mq)(eR.Oq),o=(0,c.mq)(ee.gf),s=l.includes("auto"),i=l.includes("formal"),d=l.includes("informal"),E=i||d,_=(0,c.mq)(L.q6);return E?a.createElement(eb.J,{className:(0,u.Ch)("relative",t&&"lmt__formalitySwitch")},e=>{let{open:l,close:c}=e;return a.createElement(a.Fragment,null,a.createElement(na.z,{isMenuOpen:l,disabled:_,onClick:()=>{},currentMode:r,useOldDesign:t,language:o}),l&&a.createElement(eb.J.Panel,{className:"border-dark-7 rounded-xs absolute right-0 top-11 z-10 border border-solid bg-white py-2 shadow-sm"},a.createElement(nr.F,{onSelect:c,showProAds:!1,onRequestProPage:()=>{console.warn("[FormalityPopover]","requesting a pro page should not happen in document translator")},selectMode:e=>n(no(e)),showFormalityModeAuto:s,showFormalityModeFormal:i,showFormalityModeInformal:d,language:o})))}):null};var ni=n(9738);let nc={en:{},pt:{},de:{},fr:{},es:{},it:{},nl:{},pl:{},ru:{},ja:{},zh:{},bg:{},cs:{},da:{},et:{},fi:{},el:{},hu:{},lv:{},lt:{},ro:{},sk:{},sl:{},sv:{},id:{},tr:{},uk:{},ko:{},nb:{}},nd=()=>{let e=[];return Object.entries(nc).forEach(t=>{let[n]=t;e.push({lang:n})}),[{lang:"auto"}].concat(e)},nu=e=>`document-translator-lang-option-${e.toLowerCase()}`,nE=(e,t)=>e.sort((e,n)=>"auto"===e.lang?-1:"auto"===n.lang?1:e.label.localeCompare(n.label,t));var n_=n(50416),nm=n(41510),nT=n(15513),nN=n(29223);let nD=()=>{let e=(0,c.mq)(eA.wG),t=(0,c.mq)(eA.SU),n=(0,c.mq)(L.n_),a=(0,c.mq)(L.zL),r=(n===i.rC.WAITING_FOR_USER_INPUT||n===i.rC.WAITING_FOR_ANALYSIS)&&!a&&"auto"===e;return r?{type:"AUTO_DETECTION_IN_PROGRESS"}:e===i.jA&&t?{type:"AUTO_DETECTED_LANGUAGE",language:t}:e?{type:"USER_SELECTED_LANGUAGE",language:e}:{type:"ANY_LANGUAGE"}},nO=a.forwardRef((e,t)=>{let{active:n}=e,{t:r}=(0,d.$)("translator"),l=nD(),o=(0,c.mq)(L.q6);return a.createElement(nT.R,Object.assign({ref:t},e,{"data-testid":"doctrans-source-lang-btn",disabled:o}),a.createElement("span",null,n?a.createElement("span",{className:"font-semibold"},r("translateFrom.selectSourceLanguage")):a.createElement(a.Fragment,null,a.createElement("span",{className:"sr-only"},r("translateFrom.selectSourceLanguage.currentlySelected")),a.createElement(nN.y,{state:l}))),n?a.createElement(nm.g,{className:"h-6 w-6 shrink-0","aria-hidden":!0}):a.createElement(ew.v,{className:"h-6 w-6 shrink-0","aria-hidden":!0}))});var nA=n(22902),nI=n(87873);let np=e=>({sourceLang:(0,eA.jE)(e),isSourceLangDetected:(0,eA.wG)(e)===i.jA,targetLang:(0,ee.sS)(e)}),nf=()=>{let{t:e}=(0,d.$)("translator"),t=(0,c.TA)(),n=(0,c.mq)(eA.wG),l=(0,c.mq)(C.V2),{track:o}=(0,E.rS)(),s=(0,a.useRef)(),i=(0,r.I0)(),{setIsSourceOpen:u}=(0,a.useContext)(nI.G),m=(0,a.useMemo)(()=>{let t=t=>"auto"===t?e("detect.language"):e(`shortLang.source.${t.toLowerCase()}`);return nE(nd().map(e=>({...e,label:t(e.lang)})),l)},[l,e]),T=(0,a.useMemo)(()=>{var e;return null!==(e=m.find(e=>{var t;return(0,n_.t)(null!==(t=e.variant)&&void 0!==t?t:e.lang,n)}))&&void 0!==e?e:m[0]},[m,n]),N=(0,a.useCallback)(()=>{o({id:_.Q$.SOURCE_LANGUAGE_DROPDOWN_OPENED,data:{translatorLanguageData:np(t.getState())}}),s.current=Date.now(),u(!0)},[u,t,o]),D=(0,a.useCallback)(()=>{u(!1)},[u]),O=(0,a.useCallback)(e=>{var n;i(em(e.lang)),o({id:_.Q$.SOURCE_LANGUAGE_DROPDOWN_LANGUAGE_SELECTED,data:{translatorLanguageData:{...np(t.getState()),languageSelectionDuration:{duration:(0,eQ.oZ)(null!==(n=s.current)&&void 0!==n?n:0,Date.now())}}}}),i({type:v.V.INCREASE_SOURCE_LANGUAGE_SELECT_COUNTER}),u(!1)},[u,o,t,i]),A=(0,a.useCallback)(()=>o({id:231}),[o]),I=(0,a.useCallback)(()=>o({id:240}),[o]),p=(0,a.useCallback)(()=>o({id:232}),[o]);return a.createElement(nA.T,{LanguagePopoverButton:nO,onSelectLang:O,currentLanguage:T,languages:m,getTestId:nu,onLanguageSearchTextEntered:A,onLanguageSearchNoResults:I,onLanguageSearchClearButtonClicked:p,onLanguageDropdownOpened:N,onLanguageDropdownClosed:D,testId:"translator-source-lang-list",isSourceLanguage:!0})};var nR=n(28571);let nS=e=>async t=>{(0,nR.I)()(e),t({type:v.V.SET_DOCUMENT_METADATA,payload:{targetLangAndVariant:e,targetLangWithoutVariant:e.split("-")[0]}}),t((0,e_.V)("targetChange"))};var ng=n(68011);let nv=a.forwardRef((e,t)=>{var n;let{active:r}=e,{t:l}=(0,d.$)("translator"),o=null!==(n=(0,c.mq)(ee.sS))&&void 0!==n?n:"",s=(0,c.mq)(L.q6),i={lang:o.split("-")[0].toUpperCase(),variant:o.split("-")[1]?o:void 0};return a.createElement(tS.W,{tip:r?l("translateTo.selectTranslationLanguage"):a.createElement(ng.V,{language:i})},a.createElement(nT.R,Object.assign({ref:t},e,{className:"min-w-0 font-semibold","data-testid":"doctrans-target-lang-btn",disabled:s}),a.createElement("span",{className:"flex min-w-0"},r?a.createElement("span",{className:"truncate font-semibold"},l("translateTo.selectTranslationLanguage")):a.createElement(a.Fragment,null,a.createElement("span",{className:"sr-only"},l("translateTo.selectTranslationLanguage.currentlySelected")),a.createElement(ng.V,{language:i}))),r?a.createElement(nm.g,{className:"h-6 w-6 shrink-0","aria-hidden":!0}):a.createElement(ew.v,{className:"h-6 w-6 shrink-0","aria-hidden":!0})))}),nC=()=>{let{t:e}=(0,d.$)("translator"),t=(0,c.TA)(),n=(0,c.mq)(C.V2),l=(0,c.mq)(eA.wG),o=(0,c.mq)(ee.sS),{track:s}=(0,E.rS)(),i=(0,a.useRef)(),u=(0,r.I0)(),{setIsTargetOpen:m}=(0,a.useContext)(nI.G),T=(0,a.useMemo)(()=>{let t=(t,n)=>"string"==typeof n?e(`selectLang.target.${t.toLowerCase()}.${n}`):e(`selectLang.target.${t.toLowerCase()}`);return(0,n_.Io)((0,n_.mj)(l).map(e=>({...e,label:t(e.lang,e.variant)})),n)},[l,e,n]),N=(0,a.useMemo)(()=>{var e;return null!==(e=T.find(e=>{var t;return(0,n_.t)(null!==(t=e.variant)&&void 0!==t?t:e.lang,o)}))&&void 0!==e?e:T[0]},[T,o]),D=(0,a.useCallback)(()=>{s({id:_.Q$.TARGET_LANGUAGE_DROPDOWN_OPENED,data:{translatorLanguageData:np(t.getState())}}),i.current=Date.now(),m(!0)},[m,t,s]),O=(0,a.useCallback)(()=>{m(!1)},[m]),A=(0,a.useCallback)(e=>{var n,a;u(nS(null!==(n=e.variant)&&void 0!==n?n:e.lang)),s({id:_.Q$.TARGET_LANGUAGE_DROPDOWN_LANGUAGE_SELECTED,data:{translatorLanguageData:{...np(t.getState()),languageSelectionDuration:{duration:(0,eQ.oZ)(null!==(a=i.current)&&void 0!==a?a:0,Date.now())}}}}),u({type:v.V.INCREASE_TARGET_LANGUAGE_SELECT_COUNTER}),m(!1)},[s,m,u,t]),I=(0,a.useCallback)(()=>s({id:231}),[s]),p=(0,a.useCallback)(()=>s({id:240}),[s]),f=(0,a.useCallback)(()=>s({id:232}),[s]),R=(0,a.useCallback)((e,t)=>(0,n_.go)(e,t),[]);return a.createElement(nA.T,{LanguagePopoverButton:nv,onSelectLang:A,currentLanguage:N,languages:T,getTestId:R,onLanguageSearchTextEntered:I,onLanguageSearchNoResults:p,onLanguageSearchClearButtonClicked:f,onLanguageDropdownOpened:D,onLanguageDropdownClosed:O,testId:"translator-target-lang-list",isSourceLanguage:!1})};var nL=n(47215);let nh=()=>{let e=(0,c.mq)(eR.t_),{isSourceOpen:t,isTargetOpen:n}=(0,a.useContext)(nI.G);return a.createElement(nL.P,{source:a.createElement(a.Fragment,null,a.createElement(nf,null),a.createElement("div",{className:"grow"}),t&&a.createElement(ni.l,null)),center:a.createElement(t2.L,{className:"text-dark-4 m-2 h-6 w-6"}),target:a.createElement(a.Fragment,null,a.createElement(nC,null),a.createElement("div",{className:"grow"}),n?a.createElement(ni.l,null):a.createElement(a.Fragment,null,e&&a.createElement(ns,null),a.createElement(t8,null,a.createElement(nn,null))))})},ny=()=>a.createElement(nI.t,null,a.createElement(nh,null)),nU=()=>{let{t:e}=(0,d.$)("translator");return a.createElement(t0.s,null,a.createElement("section",{className:"rounded-inherit mb-0","aria-labelledby":"document-translator-section-heading"},a.createElement("h2",{className:"sr-only",id:"document-translator-section-heading"},e("translator.docTransTab.document")),a.createElement(t1.E,{configurationBar:a.createElement(ny,null),content:a.createElement(tJ.Q,null,a.createElement(tX,null))})))};var nx=n(75330),nM=n(2943);let nP=()=>{let{t:e}=(0,d.$)("docTrans"),t=(0,c.q$)(),{0:n,1:r}=(0,a.useState)(!1),l=(0,c.mq)(e=>(0,i.CV)(e.doc.status,e.doc.isAlreadyDownloaded)),o=(0,nM.l)(e=>e.switchTranslatorModeRequest),s=()=>{r(!1),t((0,nx.Yp)())},{0:u,1:E}=(0,a.useState)(()=>()=>{}),_=()=>{u(),E(()=>()=>{})},m=e=>!!e&&e instanceof HTMLElement&&!!e.closest(".dl_navigate_away"),T=e=>!!(null==e?void 0:e.closest(".dl-doc-download")),N=(0,a.useCallback)(e=>{let t=e.target;m(t)&&l&&(r(!0),e.stopPropagation(),e.preventDefault(),E(()=>()=>{document.removeEventListener("click",N,{capture:!0}),t.click()}))},[l]),D=(0,a.useCallback)(e=>{let t=document.activeElement;if(l&&!n&&!m(t)&&!T(t))return e.preventDefault(),e.returnValue="",""},[l,n]);return(0,a.useEffect)(()=>(l&&(document.addEventListener("click",N,{capture:!0}),window.addEventListener("beforeunload",D)),()=>{document.removeEventListener("click",N,{capture:!0}),window.removeEventListener("beforeunload",D)}),[N,D,l]),(0,a.useEffect)(()=>{o&&(r(!0),E(()=>()=>{t((0,nx.k6)(o))}))},[o,t]),a.createElement(tE.V,{open:n,onClose:s},a.createElement(tE.V.Overlay,null),a.createElement(tE.V.Content,null,a.createElement(tE.V.Title,null,e("translator.docTrans.cancelDialog.Title-2")),a.createElement(tE.V.Description,{className:"CancelModal-module--description--QPn8T"},e("translator.docTrans.cancelDialog.Text")),a.createElement(tE.V.Buttons,null,a.createElement(R.z,{color:"red",onClick:()=>{t((0,er.$)()),s(),_()}},e("translator.docTrans.cancelDialog.StopButton")),a.createElement(R.z,{onClick:s},e("translator.docTrans.cancelDialog.ContinueButton")))))};var nb={emphasiseViaBold:"QuotaExceededModal-module--emphasiseViaBold--ohjGq",preventWrappingOfEmphases:"QuotaExceededModal-module--preventWrappingOfEmphases--Gshm6",gapBetweenParagraphs:"QuotaExceededModal-module--gapBetweenParagraphs--m4IRz"};let nw=e=>{var t;let{isOpen:n=!1,closeModal:r}=e,{t:l}=(0,d.$)(["index","docTrans"]),o=(0,c.q$)(),s=(0,c.mq)(C.Ck),i=()=>{r(),o((0,er.$)())},E=null!==(t=null==s?void 0:s.period)&&void 0!==t?t:"-";return a.createElement(tE.V,{open:n,onClose:i},a.createElement(tE.V.Overlay,null),a.createElement(tE.V.Content,{className:(0,u.Ch)([nb.emphasiseViaBold,nb.preventWrappingOfEmphases])},a.createElement(tE.V.Title,null,l("docTrans:docUsageInfo.limitReachedPopup.header")),a.createElement("p",{className:"mb-0",dangerouslySetInnerHTML:{__html:l("docTrans:docUsageInfo.limitReachedPopup.content",{period:E})}}),a.createElement(tE.V.Buttons,null,a.createElement(R.z,{variant:"outline",onClick:i},l("index:genericDialog.cancelButton")),a.createElement(R.z,{onClick:()=>{r(),window.open("/pro?cta=doctrans-limit-pro-quota","_blank")}},l("docTrans:docUsageInfo.limitReachedPopup.submitButton.short")))))},nF=e=>{var t;let{isOpen:n=!1,closeModal:r}=e,{t:l}=(0,d.$)(["index","docTrans","account"]),o=(0,c.q$)(),s=(0,c.mq)(C.Ck),i=()=>{r(),o((0,er.$)())},E=null!==(t=null==s?void 0:s.period)&&void 0!==t?t:"-",_=(null==s?void 0:s.teamName)||l("account:account_name_notSpecified");return a.createElement(tE.V,{open:n,onClose:i},a.createElement(tE.V.Overlay,null),a.createElement(tE.V.Content,{className:(0,u.Ch)([nb.emphasiseViaBold,nb.preventWrappingOfEmphases,nb.gapBetweenParagraphs])},a.createElement(tE.V.Title,null,l("docTrans:docUsageInfo.limitReachedPopup.header")),a.createElement("p",{className:"mb-0",dangerouslySetInnerHTML:{__html:l("docTrans:docUsageInfo.limitReachedPopup.contentTeamMember.alternative",{period:E,teamName:_})}}),a.createElement(tE.V.Buttons,null,a.createElement(R.z,{onClick:i},l("docTrans:documentReady.continueButton.alternative")))))},nV=e=>{var t;let{isOpen:n=!1,closeModal:r}=e,{t:l}=(0,d.$)(["index","docTrans"]),o=(0,c.q$)(),s=(0,c.mq)(C.Ck),i=()=>{r(),o((0,er.$)())},E=null!==(t=null==s?void 0:s.period)&&void 0!==t?t:"-";return a.createElement(tE.V,{open:n,onClose:i},a.createElement(tE.V.Overlay,null),a.createElement(tE.V.Content,{className:(0,u.Ch)([nb.emphasiseViaBold,nb.preventWrappingOfEmphases])},a.createElement(tE.V.Title,null,l("docTrans:docUsageInfo.limitReachedPopup.header")),a.createElement("p",{className:"mb-0",dangerouslySetInnerHTML:{__html:l("docTrans:docUsageInfo.limitReachedPopup.contentEnterpriseUser",{period:E})}}),a.createElement(tE.V.Buttons,null,a.createElement(R.z,{onClick:i},l("docTrans:documentReady.continueButton.alternative")))))},nG=e=>e.isProQuotaModalOpen,nk=()=>{let e=(0,c.mq)(C.Ck),t=(0,c.q$)(),n=(0,c.mq)(nG),r=null==e?void 0:e.accountType,l={isOpen:n,closeModal:()=>t({type:v.V.SET_IS_PRO_QUOTA_MODAL_OPEN,payload:!1})};return n?r===i.Rt.MEMBER?a.createElement(nF,l):r===i.Rt.ENTERPRISE?a.createElement(nV,l):a.createElement(nw,l):null};var nq=n(99130),n$={criticalUsageInfo:"DocTransUsageView-module--criticalUsageInfo--HRrxi",docTrans_usage_info:"DocTransUsageView-module--docTrans_usage_info--WosAB"};let nH=()=>{let{t:e}=(0,d.$)("docTrans"),t=(0,c.q$)(),n=(0,c.mq)(C.Ck),r=null==n?void 0:n.error,l=(0,c.mq)(C.OZ);if((0,a.useEffect)(()=>{l&&t((0,nq.Y)(15))},[t,l]),!n||r||!l)return null;let o=n.userDocumentCount,s=n.teamDocumentCount,E=n.userDocumentLimit,_=n.teamDocumentLimit,m=n.userQuotaReached,T=n.teamQuotaReached,N=n.period,D=n.accountType,O=D===i.Rt.MASTER||D===i.Rt.MEMBER,A=`${s} / ${_}`;return a.createElement("div",null,a.createElement("div",{className:n$.docTrans_usage_info},a.createElement("aside",{"aria-labelledby":"docUsageInfo-heading"},a.createElement("h3",{id:"docUsageInfo-heading"},e("docUsageInfo.headline")),a.createElement("p",{className:"mb-0"},a.createElement("span",{className:"mr-1"},""),a.createElement("span",{className:"mr-1"},e("docUsageInfo.period")),a.createElement("span",null,N)),a.createElement("p",{className:(0,u.Ch)("mb-0",m&&n$.criticalUsageInfo)},a.createElement("span",{className:"mr-1"},""),a.createElement("span",{className:"mr-1"},e("docUsageInfo.documentCountUser")),a.createElement("span",null,D===i.Rt.SINGLE?`${o} / ${E}`:D===i.Rt.MEMBER&&E<_?`${o} / ${E}`:o)),O&&a.createElement("p",{className:(0,u.Ch)("mb-0",T&&n$.criticalUsageInfo)},a.createElement("span",{className:"mr-1"},""),a.createElement("span",{className:"mr-1"},e("docUsageInfo.documentCountTeam")),a.createElement("span",null,A)))))},nB=()=>{let e=(0,c.mq)(C.OZ),t=(0,c.mq)(h.r8);return e?a.createElement("span",{className:"text-transparent"},null!=t?t:""):null},nY=()=>{let e=(0,c.mq)(C.OZ);return e?a.createElement("div",{className:"flex w-full"},a.createElement("div",{className:"flex grow"},a.createElement(nB,null)),a.createElement("div",{className:"flex"},a.createElement(nH,null))):null},nW=()=>a.createElement(nY,null);(0,o.initDocumentTranslatorSlice)();var nQ=()=>{let e=(0,r.I0)(),t=(0,r.v9)(e=>{var t;return null===(t=e.user.subscription)||void 0===t?void 0:t.productId}),n=(0,r.v9)(e=>e.user.clientState);return(0,s.L)(()=>{e((0,l.l)())},[e,t,n]),a.createElement(a.Fragment,null,a.createElement(nU,null),a.createElement(nk,null),a.createElement(nP,null),a.createElement(nW,null))}},57999:function(e,t,n){n.d(t,{f:function(){return l}});var a=n(27378),r=n(49359);let l=e=>{let{className:t}=e;return a.createElement("div",{className:(0,r.Ch)("border-dark-7 absolute inset-x-0 top-0 border-b transition-colors",t)})}},97680:function(e,t,n){n.d(t,{O:function(){return r}});var a=n(41945);let r=()=>(0,a.I0)()},30389:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var a=n(50514),r=n(74011),l=n(61365),o=n(24489),s=n(9719),i=n(53347),c=n(43396),d=n(74394),u=n(65622),E=n(10575),_=n(87606),m={selectIsDragAndDropEnabled:e=>{let t=(0,_.n_)(e),n=e.doc.errorDetails,a=t===s.rC.EMPTY,r=t===s.rC.ERROR&&n!==l.Dx.LANGUAGES_EQUAL&&n!==l.Dx.PRO_AD_ERROR,o=t===s.rC.DONE&&e.doc.isAlreadyDownloaded;return a||r||o},IsFileDropAllowed:e=>(t,n)=>{t({type:r.V.RESET_DOCUMENT_METADATA}),t({type:r.V.SET_SELECTED_FILE_COUNT,payload:null==e?void 0:e.length});let c=(0,i.OZ)(n().documentTranslator),d=(0,i.wx)(n().documentTranslator),u=null;return 1!==e.length?u=l.Dx.FILE_COUNT_NOT_SUPPORTED:(0,o.X6)(e[0],c,d)||(u=l.Dx.FORMAT_NOT_SUPPORTED),t({type:r.V.SET_FILE_TO_UPLOAD,payload:null,meta:{timestamp:Date.now(),selectionMode:s.qD.DRAG}}),null!==u&&t((0,a.Oq)(u)),null===u},ClearDragAndDropDocumentErrorIfInErrorState:a.x6,EndDocTranslation:c.$,selectTranslationInProgress:_.X9,SyncGlossaryStateToTextTranslator:()=>async(e,t)=>{(0,u.H)("Called SyncGlossaryStateToTextTranslator");let{documentTranslator:n}=t();if((0,E.W2)(n)){var a;e((0,d.Zw)((0,E.G0)(n))),e((0,d.hb)(null===(a=(0,E.SR)(n))||void 0===a?void 0:a.id))}}}},88715:function(e,t,n){n.r(t),n.d(t,{initDocumentTranslatorSlice:function(){return l}});var a=n(81042),r=n(80128);function l(){(0,r.$y)({documentTranslator:()=>a.y})}t.default=l},88521:function(e,t,n){var a,r,l;n.d(t,{BB:function(){return E},CS:function(){return T},EN:function(){return o},El:function(){return O},Gk:function(){return d},Ko:function(){return D},UK:function(){return N},VY:function(){return s},Yo:function(){return m},_s:function(){return c},mB:function(){return i},rP:function(){return _},xk:function(){return u}});let o=((a={}).Entries="\n",a.Languages=">",a.SourceAndTarget="	",a),s=((r={})[r.Timeout=1e4]="Timeout",r),i=1024,c=/[\x00-\x1F\x80-\x9F\x7F\xAD]/g,d=/'\\s+'/g,u=/'\\r?\\n'/g,E=/'\\t'/g,_="LMT_customization",m="only_old",T=((l={}).Comma=",",l.Semicolon=";",l.Tab="	",l),N={comma:T.Comma,semicolon:T.Semicolon,tab:T.Tab},D={rights:"a",shared:!1,termDictionaries:[]},O=()=>!1},81354:function(e,t,n){n.d(t,{Gh:function(){return u},K0:function(){return d},Ox:function(){return c},VN:function(){return i},fm:function(){return E},lc:function(){return s}});let a=["de","en","es","fr","ja","it","pl","nl"],r=["nl"],l=[["en","de"],["en","fr"],["en","es"],["en","ja"],["en","it"],["en","pl"],["de","fr"],["en","nl"]],o=()=>[{isFeatureFlagActive:!0,languageCode:"zh",languagePair:["en","zh"],isHighlighted:!1},{isFeatureFlagActive:!0,languageCode:"ru",languagePair:["en","ru"],isHighlighted:!1},{isFeatureFlagActive:!0,languageCode:"pt",languagePair:["en","pt"],isHighlighted:!1}],s=()=>{let e=[].concat(a),t=o().filter(e=>e.isFeatureFlagActive);return t.forEach(t=>{e.push(t.languageCode)}),e},i=()=>{let e=[].concat(r),t=o().filter(e=>e.isFeatureFlagActive);return t.forEach(t=>{t.isHighlighted&&e.push(t.languageCode)}),e},c=()=>{let e=[].concat(l),t=o().filter(e=>e.isFeatureFlagActive);return t.forEach(t=>{e.push(t.languagePair)}),e},d=()=>c()[0][0],u=()=>c()[0][1],E=()=>c()[0]},83998:function(e,t,n){n.d(t,{A0:function(){return s},AR:function(){return T},Kz:function(){return c},P8:function(){return i},Ro:function(){return d},bG:function(){return l},d3:function(){return o},dc:function(){return _},pk:function(){return u},rF:function(){return m}});var a=n(81354),r=n(88521);let l=(e,t)=>t[0]!==t[1]&&e.includes(t[0])&&e.includes(t[1]),o=(e,t)=>{let n=[e,t];return e!==t?[e,t]:(0,a.Ox)().find(e=>l(e,n))},s=e=>(0,a.Ox)().find(t=>t.includes(e)),i=(e,t)=>t&&t.includes(e)?t[0]===e?t[1]:t[0]:void 0,c=(e,t)=>`${e}${r.EN.Languages}${t}`,d=e=>`${e.from}>${e.to}`,u=e=>{let[t,n]=e.split(">");return{from:t,to:n}},E=e=>e.split(r.EN.Languages),_=e=>E(e)[0],m=e=>E(e)[1],T=e=>[{from:e[0],to:e[1]},{from:e[1],to:e[0]}]},29039:function(e,t,n){n.d(t,{D:function(){return i}});var a=n(52793),r=n(40977);let l=async e=>{await n.g.store.dispatch((0,a.C1)({dapEventId:r.qb.CLEARANCE_TOKEN_REQUESTED,dapEventData:{clearanceTokenRequestedData:e}}))};var o=n(12959),s=n(67010);async function i(){let e;let t=Date.now(),n={status:0,duration:0};try{let e=new URL("https://clearance.deepl.com/token");o.Z.fakeBot&&e.searchParams.set("max_score","1");let t=await Promise.race([fetch(e.href,{credentials:"include",mode:"cors"}),new Promise((e,t)=>setTimeout(()=>t(new s.V(s.T.CLEARANCE_FETCH_FAILURE,"clearance timeout")),5e3))]);if(n.status=t.status||0,!t.ok)throw Error(`${t.status}`)}catch(t){console.warn(t.message),e=new s.V(s.T.CLEARANCE_FETCH_FAILURE,`Error happens while fetching clearance token: ${t.message}`)}if(n.duration=Date.now()-t,e&&(n.error=e.message),l(n),e)throw e;return n}},82248:function(e,t,n){n.d(t,{u:function(){return l}});var a=n(68876),r=n(31326);let l=()=>{let e=(0,r.d)("/translator/core/textareas"),t=(0,r.d)("/translator/core/domElements"),n=(0,a.A)(null==e?void 0:e.getSourceText,null==e?void 0:e.onSourceTextChanged,""),l=(0,a.A)(null==e?void 0:e.getTargetText,null==e?void 0:e.onTargetTextChanged,"");return e&&t?{sourceText:n,targetText:l,sourceTextarea:t.sourceEdit,targetTextarea:t.targetEdit,updateTextareaText:e.updateTextareaText}:void 0}},392:function(e,t,n){n.d(t,{z:function(){return r}});var a=n(27378);let r=e=>{let t=(0,a.useRef)(e),{0:n,1:r}=(0,a.useState)();(0,a.useEffect)(()=>{let e=t.current(),n=!0,a=e=>{n&&r(()=>e)};return r(()=>e()),e.onValueChanged.push(a),()=>{n=!1,e.onValueChanged.remove(a)}},[]);let l=(0,a.useCallback)(e=>{t.current()(e)},[]);return[n,l]}},83678:function(e,t,n){n.d(t,{q:function(){return l}});var a=n(4769);let r=(e,t)=>{let n=e.source,a=t.source;return n<a?-1:n>a?1:0},l=e=>(0,a.Z)(e).sort(r).map(e=>`${e.source}	${e.target}`).join("\n")},4482:function(e,t,n){n.d(t,{H:function(){return o}});var a=n(27378),r=n(712),l=n(40736);let o=e=>{let{tooltip:t,dataTestId:n="translator-source-readonly-symbol"}=e;return a.createElement(r.W,{tip:t},a.createElement(l.k,{"data-testid":n,"aria-label":t,className:"text-neutral-next-500 dark:text-neutral-next-400 h-6 w-6"}))}},50111:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(98824),r=n(34477);function l(e){let{procedureName:t,isPro:n,args:l}=e;return a.C.connectTo({url:(0,r.l)(n),timeout:1e4,withCredentials:!0,responseWithMetadata:!1}).getFunction(t)(l).then(e=>e)}},93440:function(e,t,n){n.d(t,{_:function(){return l},j:function(){return r}});var a=n(50111);async function r(e){let{documentId:t,documentKey:n,isPro:r}=e;return(0,a.Z)({procedureName:"downloadEditingData",isPro:r,args:{documentIdAndKey:{documentId:t,documentKey:n},expectsPro:r}})}async function l(e){let{documentId:t,documentKey:n,isPro:r,editingData:l}=e;return(0,a.Z)({procedureName:"uploadEditData",isPro:r,args:{documentIdAndKey:{documentId:t,documentKey:n},expectsPro:r,editingData:l}})}},34477:function(e,t,n){n.d(t,{l:function(){return a}});function a(e){return e?"https://document-translation-pro.www.deepl.com/documentTranslation":"https://document-translation-free.www.deepl.com/documentTranslation"}},65622:function(e,t,n){n.d(t,{H:function(){return a}});function a(e){}},61365:function(e,t,n){n.d(t,{Dx:function(){return a},E$:function(){return r},t9:function(){return l}});let a={UNKNOWN_SERVER_ERROR:{ID:"unknown_server_error",DAP_CODE:0},LANGUAGES_EQUAL:{ID:"languages_equal",DAP_CODE:1},UNKNOWN_DOCUMENT:{ID:"unknown_document",DAP_CODE:2},UNKNOWN_DOCUMENT_STATUS:{ID:"unknown_document_status",DAP_CODE:3},FILESIZE__FILE_TOO_LARGE:{ID:"file_too_large",DAP_CODE:4},FILE_SIZE_IS_TOO_BIG_PRO:{ID:"file_size_is_too_big_pro",DAP_CODE:4},UPLOAD_NO_CONNECTION:{ID:"upload_no_connection",DAP_CODE:5,TEXT_KEY:"upload_noConnection"},PARSING_ERROR:{ID:"parsing_error",DAP_CODE:6,TEXT_KEY:"upload_noConnection"},UPLOAD_FAILED:{ID:"upload_failed",DAP_CODE:7},INVALID_TARGET_LANGUAGE:{ID:"invalid_target_language",DAP_CODE:8},INVALID_SOURCE_LANGUAGE:{ID:"invalid_source_language",DAP_CODE:8},INVALID_OR_MISSING_FILE_DATA:{ID:"invalid_or_missing_file_data",DAP_CODE:9,TEXT_KEY:"upload_fileNotAccepted"},UNSUPPORTED_DOCUMENT_VERSION:{ID:"unsupported_document_version",DAP_CODE:56},INVALID_REQUEST:{ID:"invalid_request",DAP_CODE:10},FORMAT_NOT_SUPPORTED:{ID:"format_not_supported",DAP_CODE:11},CURRENTLY_UNAVAILABLE:{ID:"currently_unavailable",DAP_CODE:12},PRO_AD_ERROR:{ID:"pro_ad",DAP_CODE:13},BLOCKED:{ID:"blocked",DAP_CODE:13,TEXT_KEY:"blocked"},LIMIT_COST_CONTROL:{ID:"limit_cost_control",DAP_CODE:15,TEXT_KEY:"limit_costcontrol"},DATABASE_NOT_AVAILABLE_EXCEPTION:{ID:"database_not_available_exception",DAP_CODE:16},INVALID_OR_MISSING_CLIENT_COOKIE:{ID:"invalid_or_missing_client_cookie",DAP_CODE:17},TOO_MANY_ERRORS:{ID:"too_many_errors",DAP_CODE:18},METHOD_NOT_FOUND:{ID:"method_not_found",DAP_CODE:19},INVALID_PARAMS:{ID:"invalid_params",DAP_CODE:20},INTERNAL_ERROR:{ID:"internal_error",DAP_CODE:21},BATCH_REQUEST_NOT_SUPPORTED:{ID:"batch_request_not_supported",DAP_CODE:22},BY_POSITION_PARAMS_NOT_SUPPORTED:{ID:"by_position_params_not_supported",DAP_CODE:23},TOO_MANY_REQUEST:{ID:"too_many_request",DAP_CODE:24},INVALID_OR_MISSING_DOCUMENT_ID:{ID:"invalid_or_missing_document_id",DAP_CODE:25},INVALID_OR_MISSING_DOCUMENT_KEY:{ID:"invalid_or_missing_document_key",DAP_CODE:26},NO_PERMISSION_TO_TRANSLATE_DOCUMENTS:{ID:"no_permission_to_translate_documents",DAP_CODE:27},NO_PERMISSION:{ID:"no_permission",DAP_CODE:28},NO_PERMISSION_TO_TRANSLATE_PDF_FILES:{ID:"no_permission_to_translate_pdf_files",DAP_CODE:28},NO_PERMISSION_TO_TRANSLATE_TXT_FILES:{ID:"no_permission_to_translate_txt_files",DAP_CODE:29},NO_PERMISSION_TO_TRANSLATE_HTML_FILES:{ID:"no_permission_to_translate_html_files",DAP_CODE:30},NO_PERMISSION_TO_TRANSLATE_DOCX_FILES:{ID:"no_permission_to_translate_docx_files",DAP_CODE:31},NO_PERMISSION_TO_TRANSLATE_PPTX_FILES:{ID:"no_permission_to_translate_pptx_files",DAP_CODE:32},TRANSLATION_ALREADY_REQUESTED:{ID:"translation_already_requested",DAP_CODE:33},ANALYSIS_NOT_DONE:{ID:"analysis_not_done",DAP_CODE:34},OPERATION_INVALID_DUE_TO_PREVIOUS_ERROR:{ID:"operation_invalid_due_to_previous_error",DAP_CODE:35},SESSION_INVALID_OR_EXPIRED:{ID:"session_invalid_or_expired",DAP_CODE:36},DOCUMENT_CONVERSION_NOT_SUPPORTED:{ID:"document_conversion_not_supported",DAP_CODE:37},DOCUMENT_TRANSLATION_TYPE_NOT_SUPPORTED:{ID:"document_translation_type_not_supported",DAP_CODE:38},TOO_MANY_NON_DOWNLOADED_DOCUMENTS:{ID:"too_many_non_downloaded_documents",DAP_CODE:39},TEMPORARILY_BLOCKED_GLOBAL_HEAVY_PDF_USAGE:{ID:"temporarily_blocked_global_heavy_pdf_usage",DAP_CODE:40},CONVERSION_FROM_PDF_FAILED:{ID:"conversion_from_pdf_failed",DAP_CODE:41},CONVERSION_TO_PDF_FAILED:{ID:"conversion_to_pdf_failed",DAP_CODE:42},FILESIZE__FILE_TOO_LARGE_FREE:{ID:"file_too_large_free",DAP_CODE:43},FILESIZE__FILE_TOO_LARGE_PRO:{ID:"file_too_large_pro",DAP_CODE:44},FILESIZE__FILE_CONTAINS_TOO_MANY_CHARACTERS_FREE:{ID:"file_contains_too_many_characters_free",DAP_CODE:45},FILESIZE__FILE_CONTAINS_TOO_MANY_CHARACTERS_PRO:{ID:"file_contains_too_many_characters_pro",DAP_CODE:46},FILESIZE__FILE_CONTAINS_TOO_LARGE_PARAGRAPH:{ID:"file_contains_too_large_paragraph",DAP_CODE:47},FILESIZE__FILE_VIOLATES_INTERNAL_CONSTRAINTS:{ID:"file_violates_internal_constraints",DAP_CODE:48},INFLIGHT_LIMIT_REACHED:{ID:"inflight_limit_reached",DAP_CODE:49},DOCUMENT_TRANSLATION_UNSUPPORTED_ENCODING:{ID:"unsupported_encoding",DAP_CODE:50},FILE_COUNT_NOT_SUPPORTED:{ID:"file_count_not_supported",DAP_CODE:51},INSUFFICIENT_CLEARANCE:{ID:"insufficient_clearance",DAP_CODE:52},UNHANDLED_BACKEND_ERROR:{ID:"unhandled_backend_error",DAP_CODE:53,TEXT:"server error"},REQUEST_TIMEOUT:{ID:"request_timeout",DAP_CODE:54},DEADLINE_EXCEEDED:{ID:"deadline_exceeded",DAP_CODE:55},FILESIZE__FILE_LARGER_THAN_STARTER:{ID:"file_larger_than_starter",DAP_CODE:57},FILE_DOES_NOT_SUPPORT_EDIT_MODE:{ID:"file_does_not_support_edit_mode",DAP_CODE:58}},r={302:a.INVALID_OR_MISSING_FILE_DATA,303:a.INVALID_OR_MISSING_DOCUMENT_ID,304:a.INVALID_OR_MISSING_DOCUMENT_KEY,305:a.INVALID_OR_MISSING_CLIENT_COOKIE,307:a.INVALID_SOURCE_LANGUAGE,308:a.INVALID_TARGET_LANGUAGE,309:a.LANGUAGES_EQUAL,310:a.FORMAT_NOT_SUPPORTED,317:a.DOCUMENT_CONVERSION_NOT_SUPPORTED,318:a.DOCUMENT_TRANSLATION_TYPE_NOT_SUPPORTED,320:a.DOCUMENT_TRANSLATION_UNSUPPORTED_ENCODING,321:a.INVALID_OR_MISSING_FILE_DATA,323:a.UNSUPPORTED_DOCUMENT_VERSION,500:a.UNKNOWN_DOCUMENT_STATUS,700:a.NO_PERMISSION_TO_TRANSLATE_DOCUMENTS,701:a.NO_PERMISSION_TO_TRANSLATE_TXT_FILES,702:a.NO_PERMISSION_TO_TRANSLATE_HTML_FILES,703:a.NO_PERMISSION_TO_TRANSLATE_DOCX_FILES,704:a.NO_PERMISSION_TO_TRANSLATE_PPTX_FILES,706:a.NO_PERMISSION_TO_TRANSLATE_PDF_FILES,707:a.INSUFFICIENT_CLEARANCE,799:a.NO_PERMISSION,800:a.BLOCKED,801:a.LIMIT_COST_CONTROL,802:a.LIMIT_COST_CONTROL,803:a.LIMIT_COST_CONTROL,811:a.INFLIGHT_LIMIT_REACHED,812:a.TOO_MANY_NON_DOWNLOADED_DOCUMENTS,813:a.TEMPORARILY_BLOCKED_GLOBAL_HEAVY_PDF_USAGE,900:a.TRANSLATION_ALREADY_REQUESTED,901:a.ANALYSIS_NOT_DONE,903:a.OPERATION_INVALID_DUE_TO_PREVIOUS_ERROR,1100:a.FILESIZE__FILE_TOO_LARGE,1101:a.FILESIZE__FILE_TOO_LARGE_FREE,1102:a.FILESIZE__FILE_TOO_LARGE_PRO,1103:a.FILESIZE__FILE_CONTAINS_TOO_MANY_CHARACTERS_FREE,1104:a.FILESIZE__FILE_CONTAINS_TOO_MANY_CHARACTERS_PRO,1105:a.FILESIZE__FILE_CONTAINS_TOO_LARGE_PARAGRAPH,1106:a.FILESIZE__FILE_VIOLATES_INTERNAL_CONSTRAINTS,1107:a.FILESIZE__FILE_TOO_LARGE,1400:a.CURRENTLY_UNAVAILABLE,1401:a.CURRENTLY_UNAVAILABLE,1402:a.DEADLINE_EXCEEDED,1499:a.CURRENTLY_UNAVAILABLE,1600:a.SESSION_INVALID_OR_EXPIRED,1601:a.SESSION_INVALID_OR_EXPIRED,1800:a.UNKNOWN_SERVER_ERROR,1801:a.TOO_MANY_ERRORS,1803:a.CONVERSION_FROM_PDF_FAILED,1804:a.CONVERSION_TO_PDF_FAILED,"-32600":a.INVALID_REQUEST,"-32700":a.PARSING_ERROR,"-32601":a.METHOD_NOT_FOUND,"-32602":a.INVALID_PARAMS,"-32603":a.INTERNAL_ERROR,"-32001":a.BATCH_REQUEST_NOT_SUPPORTED,"-32002":a.BY_POSITION_PARAMS_NOT_SUPPORTED,"-32029":a.TOO_MANY_REQUEST},l=[a.FILE_COUNT_NOT_SUPPORTED.ID,a.FORMAT_NOT_SUPPORTED.ID]},24489:function(e,t,n){n.d(t,{$T:function(){return c},X6:function(){return s},kv:function(){return i}});let a=["application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/pdf","application/msword"],r=["application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/pdf","text/plain","text/html","application/xliff+xml","application/x-xliff+xml","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/msword"],l=["application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/pdf","text/plain","text/html","application/msword"],o=(e,t)=>e?t?l:r:a,s=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),!e)return!0;let a=o(t,n);return a.includes(e)},i=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),1===e.length&&s(e[0],t,n)};function c(e){var t,n;return function(e,t){if(!e||!t)return[];let n=0>e.indexOf("Files");if(n)return[];let a=[];if(t.length)for(let e=0;e<t.length;++e)a.push(t[e].type);else a.push("");return a}(e.dataTransfer?null===(t=e.dataTransfer)||void 0===t?void 0:t.types:void 0,e.dataTransfer?Array.from(null===(n=e.dataTransfer)||void 0===n?void 0:n.items):void 0)}},81138:function(e,t,n){var a;n.d(t,{Q$:function(){return l},hZ:function(){return i},iI:function(){return s},v8:function(){return r}});let r=()=>Object.values(o).map(e=>e-2e3),l={DOCUMENT_TRANSLATION_FINISHED:76,DOCUMENT_TRANSLATION_STARTED:85,FREE_FILESIZE_LIMIT_PRO_AD_DISPLAYED:122,DOCUMENT_TRANSLATION_CANCELED:211,DOCUMENT_FEEDBACK_SENT:212,TARGET_LANGUAGE_DROPDOWN_OPENED:225,SOURCE_LANGUAGE_DROPDOWN_OPENED:278,TARGET_LANGUAGE_DROPDOWN_LANGUAGE_SELECTED:226,SOURCE_LANGUAGE_DROPDOWN_LANGUAGE_SELECTED:279,DOCUMENT_TRANSLATOR_ERROR_FILE_CONTAINS_TOO_MANY_CHARACTERS_FREE:237,DOCUMENT_TRANSLATOR_ERROR_BLOCKED:238,DOCUMENT_TRANSLATOR_VISITED_WITH_FRONTEND_DOCUMENT_LIMIT_REACHED:242,DOCUMENT_TRANSLATOR_NEW_FILE_SELECTED:243,DOCUMENT_TRANSLATOR_CONFIRM_DETECTED_LANGUAGE_DISPLAYED:275,DOCUMENT_TRANSLATOR_CONFIRM_DETECTED_LANGUAGE_APPLY_CLICKED:276,DOCUMENT_TRANSLATOR_CONFIRM_DETECTED_LANGUAGE_DISMISS_CLICKED:277,DOCUMENT_TRANSLATION_DOWNLOAD:318,EVENT_ID_DOCUMENT_TRANSLATOR_LANDED_ON_EDIT_MODE:2991,EVENT_ID_DOCUMENT_TRANSLATOR_EDIT_TRANSLATION_BUTTON_CLICKED:2992,EVENT_ID_DOCUMENT_TRANSLATOR_EDIT_TRANSLATION_ERROR_DISPLAYED:2993,EVENT_ID_DOCUMENT_TRANSLATOR_DOCUMENT_NOT_ELIGIBLE:2994,EVENT_ID_DOCUMENT_TRANSLATOR_DISCARD_BUTTON_CLICKED:2995,EVENT_ID_DOCUMENT_TRANSLATOR_DONE_BUTTON_CLICKED:2996,EVENT_ID_DOCUMENT_TRANSLATOR_DONE_BUTTON_OPTIONS_CLICKED:2997,EVENT_ID_DOCUMENT_TRANSLATOR_DONE_BUTTON_OPTIONS_WITH_EDITS_CLICKED:2998,EVENT_ID_DOCUMENT_TRANSLATOR_DONE_BUTTON_OPTIONS_WITHOUT_EDITS_CLICKED:2999},o={EVENT_ID_DOCUMENT_TRANSLATOR_COPY_RESULT:2054,EVENT_ID_DOCUMENT_TRANSLATOR_SUGGESTION_DROPDOWN_OPENED:2061,EVENT_ID_DOCUMENT_TRANSLATOR_SUGGESTION_DROPDOWN_SUGGESTION_CLICKED:2062,EVENT_ID_DOCUMENT_TRANSLATOR_TRANSLATION_CORRECTION:2105,EVENT_ID_DOCUMENT_TRANSLATOR_TRANSLATION_ALTERNATIVE_CLICKED:2124,EVENT_ID_DOCUMENT_TRANSLATOR_DICT_SPEAKER_BUTTON_CLICKED:2143,EVENT_ID_DOCUMENT_TRANSLATOR_DICTIONARY_INTERACTION_CLICK:2294,EVENT_ID_DOCUMENT_TRANSLATOR_DICTIONARY_INTERACTION_COPY:2295,EVENT_ID_DOCUMENT_TRANSLATOR_DICTIONARY_INTERACTION_HOVER:2296,EVENT_ID_DOCUMENT_TRANSLATOR_DICTIONARY_INTERACTION_IN_VIEW:2297,EVENT_ID_DOCUMENT_TRANSLATOR_UNDO_TRIGGERED:2308,EVENT_ID_DOCUMENT_TRANSLATOR_REDO_TRIGGERED:2309,EVENT_ID_DOCUMENT_TRANSLATOR_TARGET_TEXT_MODIFIED:2311,EVENT_ID_DOCUMENT_TRANSLATOR_CUSTOMIZATION_CREATE_RULE_POPUP:2333,EVENT_ID_DOCUMENT_TRANSLATOR_TEXTAREA_TIMEOUT:2338,EVENT_ID_DOCUMENT_TRANSLATOR_TEXTAREA_PERFORMANCE:2344,EVENT_ID_DOCUMENT_TRANSLATOR_LOCAL_UNDO_TRIGGERED:2351,EVENT_ID_DOCUMENT_TRANSLATOR_LOCAL_REDO_TRIGGERED:2352,EVENT_ID_DOCUMENT_TRANSLATOR_CONTEXTUAL_MENU_DISPLAYED:2355,EVENT_ID_DOCUMENT_TRANSLATOR_CONTEXTUAL_MENU_DICTIONARY_CLICKED:2356,EVENT_ID_DOCUMENT_TRANSLATOR_CONTEXTUAL_MENU_ALTERNATIVES_CLICKED:2357,EVENT_ID_DOCUMENT_TRANSLATOR_CONTEXTUAL_MENU_CLOSE_CLICKED:2358,EVENT_ID_DOCUMENT_TRANSLATOR_AUTOCOMPLETION_DROPDOWN_OPENED:2384},s=((a={})[a.TRANSLATOR_MODE_UNSPECIFIED=0]="TRANSLATOR_MODE_UNSPECIFIED",a[a.TRANSLATOR_MODE_NORMAL_MODE=1]="TRANSLATOR_MODE_NORMAL_MODE",a[a.TRANSLATOR_MODE_EDIT_MODE=2]="TRANSLATOR_MODE_EDIT_MODE",a),i=(e,t)=>({dapEventId:l.DOCUMENT_TRANSLATION_CANCELED,dapEventData:{DocumentTranslationCanceledData:{...e,success:t}}})},62450:function(e,t,n){n.d(t,{I:function(){return r},_:function(){return a}});let a=e=>{let t=e.lastIndexOf(".");return -1===t?e:e.substring(0,t)},r=function(e,t,n){return void 0===n&&(n=null),(e||"document").replace(/(\.[^.]+)$/,` ${t}$1`).replace(/(\.[^.]+)$/,n?`.${n}`:"$1")}},37210:function(e,t,n){n.d(t,{a:function(){return i},J:function(){return s}});var a,r=n(34681),l=n(27378),o={size_small:"FileIcon-module--size_small--zZ7If",size_smaller:"FileIcon-module--size_smaller--7TfEt",size_big:"FileIcon-module--size_big--gSCJy"};let s=((a={}).small="small",a.smaller="smaller",a.big="big",a),i=e=>{let{fileExtension:t,size:n}=e,{t:a}=(0,r.$)("docTrans"),s=null;switch(t){case"pptx":s=l.createElement("img",{src:"https://static.deepl.com/img/icons/icon_pptx_v3.svg",alt:a("translator.docTrans.fileIcon.pptx")});break;case"docx":s=l.createElement("img",{src:"https://static.deepl.com/img/icons/icon_docx_v3.svg",alt:a("translator.docTrans.fileIcon.docx")});break;case"pdf":s=l.createElement("img",{src:"https://static.deepl.com/img/icons/icon_pdf.svg",alt:a("translator.docTrans.fileIcon.pdf")});break;default:s=l.createElement("img",{src:"https://static.deepl.com/img/icons/docTrans_file.svg",alt:a("translator.docTrans.fileIcon.file")})}return l.createElement("div",{className:o[`size_${n}`]},s)}},14881:function(e,t,n){n.d(t,{h:function(){return c}});var a=n(34681),r=n(49359),l=n(27378),o=n(89060),s=n(53347),i={container:"DropIndicatorOverlay-module--container--CEQ6Q",description:"DropIndicatorOverlay-module--description--zwgtq",active:"DropIndicatorOverlay-module--active--ZC1az"};let c=()=>{let{0:e,1:t}=(0,l.useState)(!1),{t:n}=(0,a.$)("docTrans"),c=(0,o.mq)(s.OZ);return l.createElement("div",{className:(0,r.Ch)(i.container,e&&i.active),onDragEnter:()=>{t(!0)},onDragOver:()=>{t(!0)},onDragLeave:()=>{t(!1)}},l.createElement("div",{className:i.description},n(c?"dragOverlay.dropHint--pro.includingPDF":"dragOverlay.dropHint.includingPDF")))}},23559:function(e,t,n){n.d(t,{_:function(){return l}});var a=n(27378),r=n(37210);let l=()=>a.createElement("div",{className:"SupportedFormatIcons-module--supportedIcons--nD9qE"},a.createElement(r.a,{fileExtension:"pdf",size:r.J.big}),a.createElement(r.a,{fileExtension:"docx",size:r.J.big}),a.createElement(r.a,{fileExtension:"pptx",size:r.J.big}))},85893:function(e,t,n){n.d(t,{n:function(){return i}});var a=n(27378),r=n(34681),l=n(89060),o=n(53347),s=n(61365);let i=()=>{let{t:e}=(0,r.$)("docTrans"),t=(0,l.mq)(e=>{var t;return null===(t=e.doc)||void 0===t?void 0:t.errorDetails}),n=(0,l.mq)(o.OZ),i=t===s.Dx.FILE_COUNT_NOT_SUPPORTED,c=t===s.Dx.FORMAT_NOT_SUPPORTED,d="";if(i)d=e("dragOverlay.invalidFileCountHint");else{if(!c)return null;d=e(`dragOverlay.invalidFileTypeHint${n?"--pro":""}.includingPDF`)}return a.createElement("p",{className:"mb-0 leading-[inherit] text-[inherit]",dangerouslySetInnerHTML:{__html:d}})}},7723:function(e,t,n){n.d(t,{r:function(){return E}});var a=n(75330),r=n(27378),l=n(97680),o=n(84828),s=n(9719),i=n(86265),c=n(89060),d=n(24489),u=n(53347);let E=()=>{let{showDropIndicator:e}=(0,r.useContext)(o.z),t=(0,l.O)(),n=(0,c.TA)(),E=(0,r.useCallback)(e=>{!function(e,t){let{isPro:n,isStarterPlan:a}=t,r=(0,d.$T)(e),l=(0,d.kv)(r,n,a);e.dataTransfer.dropEffect=l?"copy":"none",e.preventDefault()}(e,{isPro:(0,u.OZ)(n.getState()),isStarterPlan:(0,u.wx)(n.getState())})},[n]);return{dropAreaProps:e?{onDragEnter:e=>{E(e)},onDragOver:e=>{E(e)},onDrop:e=>{let n=e.dataTransfer&&e.dataTransfer.files;if(!n||0===n.length)return;t((0,a.k6)("document"));let r=t((0,i.s)(n,s.qD.DRAG_AND_DROP));r&&(e.dataTransfer.dropEffect="copy",e.preventDefault(),e.stopPropagation())}}:{},isDropIndicatorVisible:e}}},97911:function(e,t,n){n.d(t,{U:function(){return E}});var a=n(52793),r=n(34477);let l=(e,t)=>{let n=document.createElement("input");return n.setAttribute("name",e),n.setAttribute("value",t),n},o=e=>{let t=document.createElement("form");t.setAttribute("id","dlDocTrans download form"),t.setAttribute("method","post"),t.setAttribute("action",`${(0,r.l)(e.expectsPro)}/download`),t.setAttribute("target","_self"),t.setAttribute("style","display: none;"),Object.entries(e).filter(e=>{let[t,n]=e;return void 0!==n}).forEach(e=>{let[n,a]=e;t.appendChild(l(n,String(a)))}),document.body.appendChild(t),t.submit(),t.remove()};var s=n(74011),i=n(99130),c=n(81138),d=n(47797),u=n(51388);let E=function(e){let{delay:t=0,format:n}=void 0===e?{}:e;return(e,r)=>{var l,E,_,m;e((0,d._V)()),e({type:s.V.SET_DOCUMENT_METADATA,payload:{isAlreadyDownloaded:!0}});let T=null===(l=r().documentTranslator)||void 0===l?void 0:l.doc.id,N=null===(E=r().documentTranslator)||void 0===E?void 0:E.doc.key,D=(0,u.A)(r().documentTranslator,n),O=null!==(_=null===(m=r().documentTranslator)||void 0===m?void 0:m.environment.isPro)&&void 0!==_&&_;if(T&&N){let e={documentId:T,documentKey:N,fileName:D,expectsPro:O,downloadFormat:n};t?setTimeout(()=>{o(e)},t):o(e)}e((0,a.C1)({dapEventId:c.Q$.DOCUMENT_TRANSLATION_DOWNLOAD,dapEventData:{documentTranslationDownloadData:{chosenFileFormat:n}}})),O&&(e({type:s.V.INCREMENT_DOCUMENT_COUNT}),setTimeout(()=>{e((0,i.Y)())},5e3))}}},43396:function(e,t,n){n.d(t,{$:function(){return E}});var a=n(52793),r=n(65622),l=n(50111),o=n(81138),s=n(9719),i=n(58504),c=n(74011),d=n(97387),u=n(58820);let E=()=>async(e,t)=>{var n,E,_;(0,r.H)("Called EndDocTranslation");let m=null===(n=t().documentTranslator)||void 0===n?void 0:n.doc;if(!m)return;let T=null===(E=t().documentTranslator)||void 0===E?void 0:E.environment.isPro,N=m.id,D=m.key,O=m.status,A=m.isAlreadyDownloaded,I=m.fileType,p=(0,u.V0)(t().documentTranslator),f=(0,d.Fd)(t().documentTranslator),R=m.fileSize<i.Mt?m.fileSize:i.Mt,S=null===(_=t().documentTranslator)||void 0===_?void 0:_.uploadAbortController;e({type:c.V.RESET_DOCUMENT_METADATA});let g=!0;if((0,s.CV)(O,A)){if(O===s.rC.UPLOADING)null==S||S.abort();else try{await function(e){let{documentID:t,documentKey:n,isPro:a}=e;return(0,r.H)(`SEND cancelTranslation request for '${t}'`),(0,l.Z)({procedureName:"cancelTranslation",isPro:a,args:{documentIdAndKey:{documentId:t,documentKey:n},expectsPro:a}}).then(e=>((0,r.H)(`RECEIVE cancelTranslation request successfully for '${t}'`),e),e=>{throw(0,r.H)(`RECEIVE cancelTranslation request unsuccessfully for '${t}'`),e})}({documentID:N,documentKey:D,isPro:!!T})}catch(e){g=!1}e((0,a.C1)((0,o.hZ)({sourceLang:f,targetLang:p,fileFormat:I,size:R,status:O},g)))}}},86265:function(e,t,n){n.d(t,{s:function(){return b}});var a,r=n(52793),l=n(50514),o=n(67977),s=n(29039),i=n(93219),c=n(90434),d=n(61011),u=n(61365),E=n(65622),_=n(95565),m=n(34477);let T=function(e){function t(t){return void 0===t&&(t="Request was aborted"),e.call(this,t)||this}return(0,i.Z)(t,e),t}((0,c.Z)(Error)),N=(e,t,n,a)=>((0,E.H)("SEND uploadDocumentRequest request"),new Promise((r,l)=>{let o=new XMLHttpRequest,s=(0,m.l)("true"===e.expectsPro),i=(0,_.oR)(`${s}/upload`,e);o.open("POST",i,!0),o.withCredentials=!0;let c=new FormData;c.append("file",t,n),a.addEventListener("abort",()=>{o.abort(),l(new T)}),o.send(c),o.onerror=()=>{l(u.Dx.UPLOAD_NO_CONNECTION)},o.onload=()=>{let e;try{e=JSON.parse(o.responseText)}catch(e){console.warn(`Parsing error [${o.responseText}]`),l(u.Dx.PARSING_ERROR);return}if(200===o.status&&e&&e.id&&e.key){r({id:e.id,key:e.key});return}let t=(0,d.rH)(o.status,e);l(t)}}).then(e=>((0,E.H)(`RECEIVE uploadDocumentRequest request successfully for '${e.id}'`),e),e=>{throw(0,E.H)("RECEIVE uploadDocumentRequest request unsuccessfully"),e}));var D=n(9719),O=n(74011),A=n(10215),I=n(53347),p=n(12959);let f=e=>{if(!e)return;let t=e.split(",");if((t=t.filter(e=>!!e.trim())).length)return t.join(",")},R=()=>async(e,t)=>{var n,a,r,i,c;let d=(0,I.w6)(t().documentTranslator);if(d)return;e({type:O.V.SET_DOCUMENT_STATUS,payload:D.rC.UPLOADING}),e({type:O.V.SET_DOCUMENT_METADATA,payload:{uploadStartTimestamp:Date.now()}});let u=new AbortController;e({type:O.V.SET_UPLOAD_ABORT_CONTROLLER,payload:u});let E=null===(n=t().documentTranslator)||void 0===n?void 0:n.doc.fileType,_=null===(a=t().documentTranslator)||void 0===a?void 0:a.doc.sourceName,m=null!==(r=null===(i=t().documentTranslator)||void 0===i?void 0:i.environment.isPro)&&void 0!==r&&r;if(!m)try{await (0,s.D)()}catch{console.error("Upload-File: clearance request failed")}let R=function(e,t){let n=f(p.Z.documentTranslationOptions),a={fileExtension:e,expectsPro:String(t),...n&&{inputConversionOptions:n}};return a}(E,m);N(R,null===(c=t().documentTranslator)||void 0===c?void 0:c.file,_,u.signal).then(t=>{e({type:O.V.SET_DOCUMENT_METADATA,payload:{id:t.id,key:t.key,uploadEndTimestamp:Date.now()}}),e({type:O.V.SET_DOCUMENT_STATUS,payload:D.rC.WAITING_FOR_ANALYSIS}),e((0,A.N)()),(0,o.mq)("i",e=>e+1,0)}).catch(t=>{null!=t&&t.ID?e((0,l.Oq)(t)):t instanceof T||console.error("Unhandled error occurred during document upload",t)})};var S=n(81138),g=n(47797),v=((a=v||{}).STARTER="starter",a.ADVANCED="advanced",a);let C={[v.STARTER]:{pptx:10,docx:10,pdf:10,html:5,htm:5,txt:1},[v.ADVANCED]:{pptx:20,docx:20,pdf:10,html:5,htm:5,txt:1,xliff:10,xlf:10}};function L(e,t,n){return!(e&&Object.hasOwn(t,e))||n<=t[e]}let h=(e,t,n)=>{let a=C[e];return L(n,a,t)},y=(e,t)=>!!e&&(!t||!t.length||t.includes(e));var U=n(43396),x=n(87606),M=n(25663);let P=e=>{var t;return null==e?void 0:null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase()},b=(e,t)=>(n,a)=>{var o,s;let i=(0,I.w6)(a().documentTranslator);if(i)return!1;(0,x.X9)(a().documentTranslator)&&n((0,U.$)()),n((0,r.C1)({dapEventId:S.Q$.DOCUMENT_TRANSLATOR_NEW_FILE_SELECTED}));let c=e[0];if(!(null!=c&&c.name))return!1;n({type:O.V.RESET_DOCUMENT_METADATA}),n({type:O.V.SET_SELECTED_FILE_COUNT,payload:e.length}),n({type:O.V.SET_FILE_TO_UPLOAD,payload:c,meta:{timestamp:Date.now(),selectionMode:t}});let d=P(c.name),E=null===(o=a().documentTranslator)||void 0===o?void 0:o.isQuotaReached,_=(0,I.OZ)(a().documentTranslator),m=(0,I.wx)(a().documentTranslator),T=(void 0===(s=c.size)&&(s=0),Math.ceil(s/1048576)),N=(0,g.BN)();n({type:O.V.SET_DOCUMENT_METADATA,payload:{sourceName:c.name,fileType:d,fileSize:c.size,fileSizeInMB:T}});let D=(0,M.zZ)(a().documentTranslator),A=function(e){let{fileListLength:t,fileSizeInMB:n,fileExtension:a,isQuotaReached:r,isPro:l,starterPlan:o,featureSetFileSizeLimits:s,freeDownloadLimitReached:i}=e,c=L(a,s,n);if(1!==t)return u.Dx.FILE_COUNT_NOT_SUPPORTED;if(!y(a,Object.keys(s)))return u.Dx.FORMAT_NOT_SUPPORTED;if(o&&!c&&h(v.ADVANCED,n,a)&&("docx"===a||"pptx"===a))return u.Dx.FILESIZE__FILE_LARGER_THAN_STARTER;if(l&&!c)return u.Dx.FILESIZE__FILE_TOO_LARGE_PRO;if(!l){if(!h(v.STARTER,n,a)&&h(v.ADVANCED,n,a)&&("docx"===a||"pptx"===a))return u.Dx.FILESIZE__FILE_LARGER_THAN_STARTER;if(!h(v.ADVANCED,n,a))return u.Dx.FILESIZE__FILE_TOO_LARGE_PRO;if(!c)return u.Dx.FILESIZE__FILE_TOO_LARGE_FREE}return r?u.Dx.LIMIT_COST_CONTROL:!l&&i?u.Dx.BLOCKED:null}({fileListLength:e.length,fileSizeInMB:T,fileExtension:d,isQuotaReached:E,isPro:_,starterPlan:m,featureSetFileSizeLimits:D,freeDownloadLimitReached:N});return A?(n((0,l.Oq)(A)),!1):(n({type:O.V.START_TRANSLATION}),n(R()),!0)}},10215:function(e,t,n){n.d(t,{N:function(){return F}});var a,r=n(98824),l=n(74011),o=n(97911),s=n(9719);let i=e=>({type:l.V.SET_EDITING_DATA,payload:e});var c=n(93440),d=n(53347),u=n(50514),E=n(61011);let _=()=>(e,t)=>{var n,a,r,o;let _=null===(n=t().documentTranslator)||void 0===n?void 0:null===(a=n.doc)||void 0===a?void 0:a.id,m=null===(r=t().documentTranslator)||void 0===r?void 0:null===(o=r.doc)||void 0===o?void 0:o.key;return _&&m?(0,c.j)({documentId:_,documentKey:m,isPro:(0,d.OZ)(t().documentTranslator)}).then(t=>{e(i(t)),e({type:l.V.SET_DOCUMENT_STATUS,payload:s.rC.EDITING})}).catch(e=>{throw e}).catch(t=>{var n,a;let r=null===(n=t.data)||void 0===n?void 0:n.status,l={error:null===(a=t.data)||void 0===a?void 0:a.responseData};e((0,u.Oq)((0,E.rH)(r,l)))}):Promise.reject()};var m=n(4769),T=n(12959),N=n(61365);let D=((a={})[a.StartTranslation=0]="StartTranslation",a[a.EnableDownload=1]="EnableDownload",a[a.RequestEditingData=2]="RequestEditingData",a[a.SendDocumentDoesNotSupportEditModeEvent=3]="SendDocumentDoesNotSupportEditModeEvent",a),O=(e,t)=>{var n,a,r,o,i;let{doc:c}=t,d={},u=null;if(!c||!c.id||!p(c.status))return d;let E={};switch(void 0!==e.estimatedSecondsRemaining&&(E.remainingTime=e.estimatedSecondsRemaining),void 0!==e.notes&&(E.translationNotes=Array.isArray(e.notes)?e.notes:[]),e.status){case s.nM.QUEUED_FOR_ANALYSIS:case s.nM.ANALYZING:d.newStatus=s.rC.WAITING_FOR_ANALYSIS;break;case s.nM.ANALYSIS_DONE:if(c.status!==s.rC.WAITING_FOR_ANALYSIS)break;(u={detectionIsConfident:T.Z.detectionConfidence?+T.Z.detectionConfidence>0:null!==(n=null==e?void 0:e.detectionIsConfident)&&void 0!==n&&n,detectedSourceLang:e.sourceLanguageCode.toLowerCase(),analysisEndTimestamp:Date.now(),supportsEditMode:!!e.supportsEditMode}).supportsEditMode||(d.sideEffects=[].concat((0,m.Z)(null!==(o=d.sideEffects)&&void 0!==o?o:[]),[D.SendDocumentDoesNotSupportEditModeEvent])),t.userHasClickedTranslate?d.sideEffects=[].concat((0,m.Z)(null!==(i=d.sideEffects)&&void 0!==i?i:[]),[D.StartTranslation]):d.newStatus=s.rC.WAITING_FOR_USER_INPUT;break;case s.nM.QUEUED_FOR_EDITING:case s.nM.PREPARING_FOR_EDITING:d.newStatus=s.rC.PREPARING_FOR_EDITING;break;case s.nM.READY_FOR_EDITING:d.newStatus=s.rC.PREPARING_FOR_EDITING,d.sideEffects=[].concat((0,m.Z)(null!==(a=d.sideEffects)&&void 0!==a?a:[]),[D.RequestEditingData]);break;case s.nM.TRANSLATING:case s.nM.QUEUED_FOR_TRANSLATION:d.newStatus=s.rC.WAITING_FOR_TRANSLATION;break;case s.nM.QUEUE_FOR_REASSEMBLY:case s.nM.REASSEMBLING:d.newStatus=s.rC.WAITING_FOR_REASSEMBLY;break;case s.nM.DONE:if(c.status===s.rC.DONE)break;E.translationEndTimestamp=Date.now(),E.remainingTime=0,d.newStatus=s.rC.DONE,d.sideEffects=[].concat((0,m.Z)(null!==(r=d.sideEffects)&&void 0!==r?r:[]),[D.EnableDownload]);break;default:console.error("DocTrans NewStatus","Unknown status",e.status),d.errorAction=N.Dx.UNKNOWN_DOCUMENT_STATUS}return d.metadataAction={type:l.V.SET_DOCUMENT_METADATA,payload:E},u&&(d.analysisAction={type:l.V.SET_DOCUMENT_METADATA,payload:u}),d},A={SHORT:5,AVERAGE:10,DELAYED:30},I=(e,t)=>{switch(e){case s.rC.WAITING_FOR_TRANSLATION:if(t>180&&t<1e7)return A.DELAYED;return A.AVERAGE;case s.rC.WAITING_FOR_REASSEMBLY:case s.rC.WAITING_FOR_ANALYSIS:case s.rC.PREPARING_FOR_EDITING:return A.SHORT;default:return null}},p=e=>e===s.rC.WAITING_FOR_ANALYSIS||e===s.rC.WAITING_FOR_TRANSLATION||e===s.rC.WAITING_FOR_USER_INPUT||e===s.rC.UPLOADING||e===s.rC.PREPARING_FOR_EDITING||e===s.rC.WAITING_FOR_REASSEMBLY;var f=n(58504),R=n(65505),S=n(63314),g=n(65622),v=n(77396),C=n(77919),L=n(43396),h=n(50111),y=n(77728),U=n(52793),x=n(81138);let M=()=>async(e,t)=>e((0,U.C1)({dapEventId:x.Q$.EVENT_ID_DOCUMENT_TRANSLATOR_DOCUMENT_NOT_ELIGIBLE}));var P=n(87606);let b=()=>(e,t)=>{let n=t().documentTranslator.doc;if(!n.id||!n.key||!p(n.status))return Promise.resolve();let a=(0,d.OZ)(t().documentTranslator);return(function(e){let{documentID:t,documentKey:n,isPro:a}=e;return(0,g.H)(`SEND getTranslationStatus request for '${t}'`),(0,h.Z)({procedureName:"getTranslationStatus",isPro:a,args:{documentIdAndKey:{documentId:t,documentKey:n},expectsPro:a}}).then(e=>((0,g.H)(`RECEIVE getTranslationStatus request successfully for '${t}' with status '${e.status}'`),e),e=>{throw(0,g.H)(`RECEIVE getTranslationStatus request unsuccessfully for '${t}'`),e})})({documentID:n.id,documentKey:n.key,isPro:a}).then(a=>{let r=t().documentTranslator;if(!p(r.doc.status))return;let{analysisAction:i,metadataAction:c,errorAction:d,sideEffects:E,newStatus:m}=O(a,r);c&&e(c),(!i||(e(i),e((0,S.V)("detectionDone"))))&&(m&&(e({type:l.V.SET_DOCUMENT_STATUS,payload:m}),m===s.rC.DONE&&e((0,C.G)())),E&&E.forEach(a=>{a===D.StartTranslation&&((0,g.H)(`Start translation from within pollDocStatus for '${n.id}'`),e((0,R.I)({withEdits:(0,y.Sl)(t().documentTranslator)}))),a===D.EnableDownload&&(r.environment.isPro||e((0,o.U)({delay:f.Cb}))),a===D.RequestEditingData&&e(_()),a===D.SendDocumentDoesNotSupportEditModeEvent&&e(M())}),d&&e((0,u.Oq)(d)))}).catch(n=>{var a,l,o,s;if(!p((0,P.n_)(t().documentTranslator)))return;if((null==n?void 0:n.errorType)===r.Z.TIMEOUT)throw e((0,u.Oq)(N.Dx.REQUEST_TIMEOUT)),n;let i=(null==n?void 0:null===(a=n.data)||void 0===a?void 0:null===(l=a.responseData)||void 0===l?void 0:l.code)||(null==n?void 0:n.code),c=null==n?void 0:null===(o=n.data)||void 0===o?void 0:null===(s=o.responseData)||void 0===s?void 0:s.message,d=(0,E.ko)(i,c);throw e((0,u.Oq)(d)),n})},w=(0,v.$)(),F=()=>(e,t)=>{let n=(0,d.w6)(t().documentTranslator);n&&e((0,L.$)()),w(),e(b()).then(()=>{w();let n=I((0,P.n_)(t().documentTranslator),(0,P.IR)(t().documentTranslator));if(!n)return;let a=setTimeout(()=>{e(F())},1e3*n);w.push(()=>{clearTimeout(a)})}).catch(e=>{})}},99130:function(e,t,n){n.d(t,{Y:function(){return N}});var a=n(3329),r=n(74011),l=n(61011),o=n(50111),s=n(61365),i=n(9719);let c=(e,t,n,a)=>e===i.Rt.SINGLE?t>=a:e===i.Rt.MEMBER&&t>=n,d=(e,t)=>e>=t,u=e=>[e.getDate().toString().padStart(2,"0"),(e.getMonth()+1).toString().padStart(2,"0"),e.getFullYear()].join("."),E=(e,t)=>{let n=_(new Date(t));return`${u(new Date(e))} - ${u(n)}`},_=e=>{let t=new Date(e);return t.setDate(t.getDate()-1),t.setHours(23,59,59,999),t},m=0,T=!1,N=function(e){return void 0===e&&(e=0),async(t,n)=>{var u,_;let N=null===(u=n().documentTranslator)||void 0===u?void 0:u.environment.isPro,D=null===(_=n().documentTranslator)||void 0===_?void 0:_.environment.ep;if(!N)return;let O=Date.now()-1e3*e;!(m>=O)&&(T||(T=!0,(function(e){let{isPro:t}=e;return(0,o.Z)({procedureName:"getQuotaInfo",isPro:t,args:{expectsPro:t}}).then(e=>({...e,teamRole:e.teamRole}))})({isPro:N}).then(e=>{let{teamRole:n,teamName:a,billingPeriodStart:l,billingPeriodEnd:o,documentQuota:s}=e;m=Date.now(),T=!1;let u=E(l,o),_={isUsageBased:!1,accountType:D?i.Rt.ENTERPRISE:n,period:u,userDocumentCount:s.accountDocumentCount,userDocumentLimit:s.accountDocumentLimit,teamDocumentCount:s.teamDocumentCount,teamDocumentLimit:s.teamDocumentLimit,teamName:a,supportsDocuments:!1,error:void 0};_.userQuotaReached=c(_.accountType,_.userDocumentCount,_.userDocumentLimit,_.teamDocumentLimit),_.teamQuotaReached=d(_.teamDocumentCount,_.teamDocumentLimit);let O=N&&(_.userQuotaReached||_.teamQuotaReached);t({type:r.V.SET_IS_QUOTA_REACHED,payload:O}),t({type:r.V.SET_QUOTA_INFO,payload:_})}).catch(e=>{m=Date.now(),T=!1;let n=(0,l.ko)(e.code);n===s.Dx.SESSION_INVALID_OR_EXPIRED&&t((0,a.setSessionLost)(!0)),n===s.Dx.NO_PERMISSION||n===s.Dx.NO_PERMISSION_TO_TRANSLATE_DOCUMENTS?t({type:r.V.SET_ACCOUNT_INFO_ERROR,payload:i.FY.NO_PERMISSION}):t({type:r.V.SET_ACCOUNT_INFO_ERROR,payload:i.FY.UNAVAILABLE})})))}}},65505:function(e,t,n){n.d(t,{I:function(){return h}});var a=n(83998),r=n(83678),l=n(98824),o=n(61011),s=n(61365),i=n(9719),c=n(74011),d=n(50514),u=n(88904),E=n(93017),_=n(77728),m=n(65622),T=n(50111),N=n(10575),D=n(97387),O=n(58820);let A=e=>({type:c.V.SET_CONFIGURATION_REQUESTED_FROM_USER,payload:e}),I=e=>({type:c.V.SET_CONFIGURATION_USED_FOR_TRANSLATION,payload:e}),p=()=>(e,t)=>{let n=(0,N.W2)(t().documentTranslator)&&(0,N.G0)(t().documentTranslator);n&&e(A({glossary:(0,N.SR)(t().documentTranslator)})),e(I({sourceLang:(0,D.jE)(t().documentTranslator),targetLang:(0,O.sS)(t().documentTranslator),targetLangWithoutVariant:(0,O.gf)(t().documentTranslator)})),(0,N.zo)(t().documentTranslator)&&e(I({glossary:(0,N.SR)(t().documentTranslator),glossaryDictionary:(0,N.JC)(t().documentTranslator)})),(0,E.NK)(t().documentTranslator)&&e(I({formalityMode:(0,E.Kv)(t().documentTranslator)}))};var f=n(52793),R=n(99415),S=n(43271),g=n(81138),v=n(25663);let C=e=>async(t,n)=>{let a=n().documentTranslator;a&&t((0,f.C1)({dapEventId:g.Q$.DOCUMENT_TRANSLATION_STARTED,dapEventData:{translatorDocumentTranslationStartedData:{fileFormat:(0,v.hQ)(a),size:a.doc.fileSize,formalityMode:(0,R.b)(a),...(0,S.y)(a),translatorModeOption:e?g.iI.TRANSLATOR_MODE_EDIT_MODE:g.iI.TRANSLATOR_MODE_NORMAL_MODE}}}))};var L=n(87606);let h=function(e){let{withEdits:t=!1}=void 0===e?{}:e;return(e,n)=>new Promise((A,I)=>{var f,R,S;let g=null===(f=n().documentTranslator)||void 0===f?void 0:f.doc,v=null===(R=n().documentTranslator)||void 0===R?void 0:R.userHasClickedTranslate,h=null===(S=n().documentTranslator)||void 0===S?void 0:S.environment.isPro;if(!g||!g.id||!g.key){console.error("attempted to start doc translation without doc",{error:null==g?void 0:g.errorDetails,clickedTranslate:v});return}if(!e((0,u.o)()))return;if((0,_.Sl)(n().documentTranslator)&&!(0,_.ER)(n().documentTranslator)){e((0,d.Oq)(s.Dx.FILE_DOES_NOT_SUPPORT_EDIT_MODE));return}e(p());let y=(0,E.lX)(n().documentTranslator),U=(0,N.AR)(n().documentTranslator),x=(0,N.El)(n().documentTranslator),M=(0,N.n3)(n().documentTranslator);t?e({type:c.V.SET_DOCUMENT_STATUS,payload:i.rC.PREPARING_FOR_EDITING}):e({type:c.V.SET_DOCUMENT_STATUS,payload:i.rC.WAITING_FOR_TRANSLATION}),e(C(t));let P=(0,D.jE)(n().documentTranslator).toLowerCase(),b=(0,O.sS)(n().documentTranslator);(function(e){let{id:t,key:n,sourceLang:a,targetLang:r,formality:l,isPro:o,glossary:s,useEditMode:i}=e;return(0,m.H)(`SEND startTranslation request for '${t}'`),(0,T.Z)({procedureName:"startTranslation",isPro:o,args:{documentIdAndKey:{documentId:t,documentKey:n},translationConfiguration:{sourceLangCode:a,targetLangCode:r,formality:function(e){switch(e){case"formal":return"more";case"informal":return"less";default:return}}(l),termbase:s?"id"in s&&s.id&&s.dictionaryId?{termbaseId:s.id,dictionaryId:s.dictionaryId}:"dictionary"in s?s.dictionary:void 0:void 0,useEditMode:i},expectsPro:o}}).then(e=>((0,m.H)(`RECEIVE startTranslation request successfully for '${t}'`),e),e=>{throw(0,m.H)(`RECEIVE startTranslation request unsuccessfully for '${t}'`),e})})({id:g.id,key:g.key,sourceLang:P,targetLang:b,formality:null!=y?y:void 0,glossary:function(){if(U){if(M){var e,t,n;let l=null!==(e=null===(t=U.termDictionaries)||void 0===t?void 0:null===(n=t.find(e=>(0,a.dc)(e.languagePair)===P&&(0,a.rF)(e.languagePair)===b))||void 0===n?void 0:n.entries)&&void 0!==e?e:[];return{dictionary:(0,r.q)(l)}}return x?{id:U.id,dictionaryId:x.id}:void 0}}(),isPro:null==h||h,useEditMode:t}).then(()=>{e({type:c.V.SET_DOCUMENT_METADATA,payload:{translationStartTimestamp:Date.now()}}),A()}).catch(t=>{var a,r,c,u,E;let _=(0,L.n_)(n().documentTranslator),m=null===(a=n().documentTranslator)||void 0===a?void 0:a.doc.isAlreadyDownloaded,T=(0,i.CV)(_,m);if(!T){A();return}if((null==t?void 0:t.errorType)===l.Z.TIMEOUT){e((0,d.Oq)(s.Dx.REQUEST_TIMEOUT)),I(t);return}let N=(null==t?void 0:null===(r=t.data)||void 0===r?void 0:null===(c=r.responseData)||void 0===c?void 0:c.code)||(null==t?void 0:t.code),D=null==t?void 0:null===(u=t.data)||void 0===u?void 0:null===(E=u.responseData)||void 0===E?void 0:E.message,O=(0,o.ko)(N,D);if(T&&O.ID===s.Dx.TRANSLATION_ALREADY_REQUESTED.ID){console.error(`Translation for document '${g.id}' already requested. Ignoring this error since translation is ongoing.`),A();return}e((0,d.Oq)(O)),I(O)})})}},88904:function(e,t,n){n.d(t,{o:function(){return s}});var a=n(9719),r=n(50514),l=n(61365),o=n(87606);let s=()=>(e,t)=>{var n,s,i,c,d;let u=(0,o.n_)(t().documentTranslator),E=null===(n=t().documentTranslator)||void 0===n?void 0:n.userHasClickedTranslate,_=![a.rC.EMPTY,a.rC.ERROR,a.rC.UPLOADING,a.rC.WAITING_FOR_TRANSLATION,a.rC.DONE].includes(u)||u===a.rC.WAITING_FOR_ANALYSIS&&!E,m=null===(s=t().documentTranslator)||void 0===s?void 0:s.doc.targetLangWithoutVariant,T=(null===(i=t().documentTranslator)||void 0===i?void 0:i.doc.selectedSourceLang)===a.jA?null===(c=t().documentTranslator)||void 0===c?void 0:c.doc.detectedSourceLang:null===(d=t().documentTranslator)||void 0===d?void 0:d.doc.selectedSourceLang;return!_||m!==T||(e((0,r.Oq)(l.Dx.LANGUAGES_EQUAL)),!1)}},63314:function(e,t,n){n.d(t,{V:function(){return s}});var a=n(74011),r=n(9719),l=n(50416),o=n(87606);let s=e=>(t,n)=>{var s,i,c,d,u,E,_;let m=(0,o.n_)(n().documentTranslator),T=null===(s=n().documentTranslator)||void 0===s?void 0:s.userHasClickedTranslate,N=![r.rC.EMPTY,r.rC.ERROR,r.rC.UPLOADING,r.rC.WAITING_FOR_TRANSLATION,r.rC.DONE].includes(m)||m===r.rC.WAITING_FOR_ANALYSIS&&!T,D=null===(i=n().documentTranslator)||void 0===i?void 0:i.doc.selectedSourceLang,O=null===(c=n().documentTranslator)||void 0===c?void 0:c.doc.detectedSourceLang,A=(0,o.zL)(n().documentTranslator),I=null===(d=n().documentTranslator)||void 0===d?void 0:d.doc.detectionIsConfident,p=null===(u=n().documentTranslator)||void 0===u?void 0:u.doc.confirmDetectedLanguageDismissed,f=null===(E=n().documentTranslator)||void 0===E?void 0:E.doc.targetLangWithoutVariant,R=null===(_=n().documentTranslator)||void 0===_?void 0:_.doc.targetLangAndVariant,S=(0,l.Dx)(D===r.jA?O:D,f);return S?S&&"en"===R&&t({type:a.V.SET_DOCUMENT_METADATA,payload:{targetLangAndVariant:"en-US"}}):t({type:a.V.SET_DOCUMENT_METADATA,payload:{targetLangAndVariant:f}}),!A||!I||O===D||D===r.jA||!N||!!("targetChange"===e&&p)||(t({type:a.V.SET_DOCUMENT_STATUS,payload:r.rC.WAITING_FOR_SOURCE_LANG_CONFIRMATION}),!1)}},77919:function(e,t,n){n.d(t,{G:function(){return T}});var a=n(52793),r=n(99415),l=n(43271),o=n(81138),s=n(61365),i=n(9719),c=n(58504),d=n(97387),u=n(58820);let E=e=>e.countUserSelectsTargetLanguage,_=e=>e.countUserSelectsSourceLanguage,m={[i.rC.ERROR]:2,[i.rC.RETRYING_TARGET_LANG]:2,[i.rC.DONE]:1,default:0},T=()=>async(e,t)=>{var n,T,N;let D=null===(n=t().documentTranslator)||void 0===n?void 0:n.doc;if(!D)return;let O=null===(T=t().documentTranslator)||void 0===T?void 0:T.selectedFileCount;if(D.fileSize>c.Mt)return;let A=m[D.status]||m.default,I=A===m[i.rC.ERROR]?D.errorDetails.DAP_CODE||"unknown":null;I&&D.errorDetails.ID===s.Dx.BLOCKED.ID&&e((0,a.C1)({dapEventId:o.Q$.DOCUMENT_TRANSLATOR_ERROR_BLOCKED})),I&&D.errorDetails.ID===s.Dx.FILESIZE__FILE_TOO_LARGE_FREE.ID&&e((0,a.C1)({dapEventId:o.Q$.FREE_FILESIZE_LIMIT_PRO_AD_DISPLAYED})),I&&D.errorDetails.ID===s.Dx.FILESIZE__FILE_CONTAINS_TOO_MANY_CHARACTERS_FREE.ID&&e((0,a.C1)({dapEventId:o.Q$.DOCUMENT_TRANSLATOR_ERROR_FILE_CONTAINS_TOO_MANY_CHARACTERS_FREE})),e((0,a.C1)({dapEventId:o.Q$.DOCUMENT_TRANSLATION_FINISHED,dapEventData:{translatorDocumentTranslationFinishedData:{durations:{configDuration:(0,c.oZ)(D.selectionTimestamp,D.uploadStartTimestamp),uploadDuration:(0,c.oZ)(D.uploadStartTimestamp,D.uploadEndTimestamp),langDetectionDuration:(0,c.oZ)(D.uploadEndTimestamp,D.analysisEndTimestamp),translationDuration:(0,c.oZ)(D.translationStartTimestamp,D.translationEndTimestamp)},selectionMode:D.selectionMode,selectedFileCount:O,countUserSelectsTargetLanguage:E(t().documentTranslator),countUserSelectsSourceLanguage:_(t().documentTranslator),sourceLang:(0,d.Fd)(t().documentTranslator),targetLang:(0,u.V0)(t().documentTranslator),fileFormat:D.fileType,size:D.fileSize,...!!I&&{errorType:I},outcome:A,formalityMode:(0,r.b)(t().documentTranslator),...(0,l.y)(t().documentTranslator),translatorModeOption:null!==(N=t().documentTranslator)&&void 0!==N&&N.doc.userChoseToFinishWithEdits?o.iI.TRANSLATOR_MODE_EDIT_MODE:o.iI.TRANSLATOR_MODE_NORMAL_MODE}}}))}},99415:function(e,t,n){n.d(t,{b:function(){return r}});var a=n(93017);let r=e=>{let t=(0,a.lX)(e);switch(t){case"formal":return 1;case"informal":return 2;case"auto":return 3;default:return 0}}},43271:function(e,t,n){n.d(t,{y:function(){return c}});var a=n(10575);let r=e=>{switch((0,a.W2)(e)&&(0,a.G0)(e)){case!0:return 1;case!1:return 2;default:return 0}},l=e=>e.glossaries.length,o=e=>{var t;return((null===(t=(0,a.El)(e))||void 0===t?void 0:t.entries)||[]).length},s=e=>{var t,n,r;return null!==(t=null===(n=(0,a.AR)(e))||void 0===n?void 0:null===(r=n.termDictionaries)||void 0===r?void 0:r.reduce((e,t)=>(t.entries||[]).length+e,0))&&void 0!==t?t:0},i=e=>{var t,n;return{rights:(()=>{var t;let n=null===(t=(0,a.AR)(e))||void 0===t?void 0:t.rights;switch(n){case"u":return 3;case"e":return 2;case"a":return 1;default:return 0}})(),isShared:null!==(t=null===(n=(0,a.AR)(e))||void 0===n?void 0:n.shared)&&void 0!==t&&t}},c=e=>{var t;return{customizationMode:r(e),numberOfCustomizations:l(e),numberOfCustomizationEntriesForLangPair:o(e),numberOfAllCustomizationEntries:s(e),glossaryId:null===(t=(0,a.AR)(e))||void 0===t?void 0:t.id,translatorCustomizationCollaborationState:i(e)}}},50514:function(e,t,n){n.d(t,{Oq:function(){return c},x6:function(){return i}});var a=n(3329),r=n(61365),l=n(74011),o=n(77919);let s=()=>({type:l.V.SET_DOCUMENT_ERROR,payload:null}),i=()=>async(e,t)=>{var n,a,l;let o=r.t9.includes(null===(n=t().documentTranslator)||void 0===n?void 0:null===(a=n.doc)||void 0===a?void 0:null===(l=a.errorDetails)||void 0===l?void 0:l.ID);o&&e(s())},c=e=>async(t,n)=>{e===r.Dx.SESSION_INVALID_OR_EXPIRED&&t((0,a.setSessionLost)(!0)),t({type:l.V.SET_DOCUMENT_ERROR,payload:e}),t((0,o.G)())}},89060:function(e,t,n){n.d(t,{TA:function(){return i},mq:function(){return o},q$:function(){return s}});var a=n(27378),r=n(41945),l=n(81042);let o=e=>(0,r.v9)(t=>{let n=t[l.t];if(void 0===n)throw Error("DocumentTranslator module not added to redux yet");return e(n)}),s=r.I0,i=()=>{let e=(0,r.oR)();return(0,a.useMemo)(()=>({getState:()=>{let t=e.getState();if(!t.documentTranslator)throw Error("DocumentTranslator module not added to redux yet");return t.documentTranslator}}),[e])}},81042:function(e,t,n){n.d(t,{t:function(){return c},y:function(){return d}});var a=n(61365),r=n(9719),l=n(74011),o=n(94232);let s={id:null,key:null,configurationUsedForTranslation:{formalityMode:null,glossary:null,glossaryDictionary:null,sourceLang:null,targetLang:null,targetLangWithoutVariant:null},configurationRequestedFromUser:{glossary:null},errorDetails:null,fileType:"",fileSize:0,fileSizeInMB:0,sourceName:"",status:r.rC.EMPTY,downloadUrl:null,isAlreadyDownloaded:!1,selectedSourceLang:r.jA,detectedSourceLang:null,detectionIsConfident:!1,confirmDetectedLanguageDismissed:!1,targetLangAndVariant:"en-US",targetLangWithoutVariant:"en",remainingTime:0,translationNotes:[],selectionTimestamp:null,uploadStartTimestamp:null,uploadEndTimestamp:null,analysisEndTimestamp:null,translationStartTimestamp:null,translationEndTimestamp:null,fileCharacterCount:null,billableCharacterCount:null,shouldShowLimitNearMessage:!1,selectionMode:null,supportsEditMode:!1,editingData:null,userChoseToFinishWithEdits:!1},i={environment:{il:"en",ep:!1,featureSet:{fileSizeLimits:{},specifyOutputDocumentFormat:!1,formality:!1,glossary:{termbaseService:!1,maxEntriesPerGlossary:0,maxGlossaries:0,sharing:!1}},isPro:!1,starterPlan:!1,releaseGroups:[],isLoggedIn:!1,isProAvailable:void 0},selectedFormalityMode:o.H.AUTO,isGlossaryActive:!1,selectedGlossary:null,glossaries:[],file:null,isLangSelectBlocked:!1,doc:s,countUserSelectsTargetLanguage:0,countUserSelectsSourceLanguage:0,errorObject:null,isFileBrowserDialogueOpen:!1,isQuotaReached:!1,accountQuotaInfo:null,isProQuotaModalOpen:!1,freeDownloadLimitReached:!1,uiIsTargetLangSelectionOpen:!1,uploadAbortController:null,selectedFileCount:0,userHasClickedTranslate:!1,userRequestedEditMode:!1,userHasSeenFileDoesNotSupportEditModeError:!1},c="documentTranslator",d=function(e,t){var n,o,s,c;switch(void 0===e&&(e=i),t.type){case l.V.SET_IS_TARGET_LANG_OPEN:return{...e,uiIsTargetLangSelectionOpen:t.payload};case l.V.START_TRANSLATION:return{...e,countUserSelectsTargetLanguage:0,countUserSelectsSourceLanguage:0,doc:{...e.doc,errorDetails:i.doc.errorDetails}};case l.V.SET_FILE_TO_UPLOAD:return{...e,file:t.payload,doc:{...e.doc,selectionTimestamp:t.meta.timestamp,selectionMode:t.meta.selectionMode}};case l.V.SET_IS_QUOTA_REACHED:if(!0===t.payload)return{...e,isQuotaReached:t.payload,isProQuotaModalOpen:!0};return{...e,isQuotaReached:t.payload};case l.V.SET_IS_PRO_QUOTA_MODAL_OPEN:return{...e,isProQuotaModalOpen:t.payload};case l.V.SET_QUOTA_INFO:return{...e,accountQuotaInfo:t.payload};case l.V.SET_ACCOUNT_INFO_ERROR:return{...e,accountQuotaInfo:{...e.accountQuotaInfo,error:t.payload}};case l.V.INCREMENT_DOCUMENT_COUNT:return{...e,accountQuotaInfo:{...e.accountQuotaInfo,userDocumentCount:(null!==(n=null===(o=e.accountQuotaInfo)||void 0===o?void 0:o.userDocumentCount)&&void 0!==n?n:0)+1,teamDocumentCount:(null!==(s=null===(c=e.accountQuotaInfo)||void 0===c?void 0:c.teamDocumentCount)&&void 0!==s?s:0)+1}};case l.V.SET_FREE_DOWNLOAD_LIMIT_REACHED:return{...e,freeDownloadLimitReached:t.payload};case l.V.SET_DOCUMENT_STATUS:return{...e,doc:{...e.doc,status:t.payload}};case l.V.RESET_DOCUMENT_METADATA:return{...e,doc:{...i.doc,selectedSourceLang:e.doc.selectedSourceLang,targetLangAndVariant:e.doc.targetLangAndVariant,targetLangWithoutVariant:e.doc.targetLangWithoutVariant},file:null,userHasClickedTranslate:!1,userRequestedEditMode:!1,userHasSeenFileDoesNotSupportEditModeError:!1};case l.V.SET_DOCUMENT_METADATA:{let n={...e.doc,...t.payload};return{...e,doc:{...n}}}case l.V.SET_DOCUMENT_ERROR:if(!t.payload)return{...e,doc:{...i.doc}};if(t.payload===a.Dx.LANGUAGES_EQUAL)return{...e,doc:{...e.doc,status:r.rC.RETRYING_TARGET_LANG,errorDetails:t.payload}};if(t.payload===a.Dx.FILE_DOES_NOT_SUPPORT_EDIT_MODE)return{...e,doc:{...e.doc,status:r.rC.CONFIRM_EDIT_UNAVAILABLE,errorDetails:t.payload}};if(t.payload===a.Dx.LIMIT_COST_CONTROL)return{...e,doc:{...e.doc,status:r.rC.ERROR,errorDetails:t.payload},isQuotaReached:!0,isProQuotaModalOpen:!0};return{...e,doc:{...e.doc,status:r.rC.ERROR,errorDetails:t.payload}};case l.V.INCREASE_TARGET_LANGUAGE_SELECT_COUNTER:return{...e,countUserSelectsTargetLanguage:e.countUserSelectsTargetLanguage+1};case l.V.INCREASE_SOURCE_LANGUAGE_SELECT_COUNTER:return{...e,countUserSelectsSourceLanguage:e.countUserSelectsSourceLanguage+1};case l.V.SET_UPLOAD_ABORT_CONTROLLER:return{...e,uploadAbortController:t.payload};case l.V.SET_SELECTED_FILE_COUNT:return{...e,selectedFileCount:t.payload};case l.V.USER_HAS_CLICKED_TRANSLATE:return{...e,userHasClickedTranslate:!0};case l.V.SET_USER_REQUESTED_EDIT_MODE:return{...e,userRequestedEditMode:t.payload};case l.V.CONFIRM_DETECTED_LANGUAGE_DISMISSED:return{...e,doc:{...e.doc,confirmDetectedLanguageDismissed:!0}};case l.V.SET_ENVIRONMENT_DATA:return{...e,environment:{...e.environment,...t.payload}};case l.V.SET_SELECTED_FORMALITY_MODE:return{...e,selectedFormalityMode:t.payload};case l.V.SET_CONFIGURATION_USED_FOR_TRANSLATION:return{...e,doc:{...e.doc,configurationUsedForTranslation:{...e.doc.configurationUsedForTranslation,...t.payload}}};case l.V.SET_CONFIGURATION_REQUESTED_FROM_USER:return{...e,doc:{...e.doc,configurationRequestedFromUser:{...e.doc.configurationRequestedFromUser,...t.payload}}};case l.V.SET_IS_GLOSSARY_ACTIVE:return{...e,isGlossaryActive:t.payload};case l.V.SET_SELECTED_GLOSSARY:return{...e,selectedGlossary:t.payload};case l.V.SET_GLOSSARIES:return{...e,glossaries:t.payload};case l.V.SET_EDITING_DATA:return{...e,doc:{...e.doc,editingData:t.payload}};case l.V.SET_USER_CHOSE_TO_FINISH_WITH_EDITS:return{...e,doc:{...e.doc,userChoseToFinishWithEdits:t.payload}};case l.V.SET_USER_HAS_SEEN_FILE_DOES_NOT_SUPPORT_EDIT_MODE_ERROR:return{...e,userHasSeenFileDoesNotSupportEditModeError:!0};default:return e}}},93017:function(e,t,n){n.d(t,{Oq:function(){return E},NK:function(){return u},t_:function(){return d},Kv:function(){return i},lX:function(){return c}});var a=n(4769),r=n(452);let l=(e,t)=>{var n,l;if(t){let n=null!==(l=r.J[e].formalitySourceLangExclusions)&&void 0!==l?l:[],a=n.includes(t.toLocaleLowerCase());if(a)return["auto"]}let o=null!==(n=r.J[e].formalityModes)&&void 0!==n?n:[];return[].concat((0,a.Z)(o),["auto"])};var o=n(97387),s=n(58820);let i=e=>e.selectedFormalityMode,c=e=>e.doc.configurationUsedForTranslation.formalityMode,d=e=>e.environment.isPro&&e.environment.featureSet.formality,u=e=>d(e)&&_(e),E=e=>{let t=(0,o.jE)(e),n=(0,s.gf)(e);return l(n,t)},_=e=>{let t=E(e),n=t.includes("formal"),a=t.includes("informal");return n||a}},10575:function(e,t,n){n.d(t,{AR:function(){return c},El:function(){return E},G0:function(){return i},HC:function(){return l},JC:function(){return u},KV:function(){return _},SR:function(){return s},W2:function(){return o},n3:function(){return T},yv:function(){return d},zo:function(){return m}});var a=n(83998),r=n(97387);let l=e=>e.environment.featureSet.glossary,o=e=>e.environment.isPro,s=e=>e.selectedGlossary,i=e=>e.isGlossaryActive,c=e=>e.doc.configurationUsedForTranslation.glossary,d=e=>e.doc.configurationRequestedFromUser.glossary,u=e=>{var t,n,l;return null!==(t=null===(n=e.selectedGlossary)||void 0===n?void 0:null===(l=n.termDictionaries)||void 0===l?void 0:l.find(t=>(0,a.dc)(t.languagePair)===(0,r.jE)(e)&&(0,a.rF)(t.languagePair)===e.doc.targetLangWithoutVariant))&&void 0!==t?t:null},E=e=>e.doc.configurationUsedForTranslation.glossaryDictionary,_=e=>{var t,n;return!!d(e)&&(null===(t=d(e))||void 0===t?void 0:t.id)!==(null===(n=c(e))||void 0===n?void 0:n.id)},m=e=>o(e)&&i(e)&&!!s(e)&&!!u(e),T=e=>!e.environment.featureSet.glossary.termbaseService},25663:function(e,t,n){n.d(t,{L3:function(){return o},PN:function(){return c},hQ:function(){return s},r8:function(){return l},uD:function(){return i},zZ:function(){return d}});var a=n(61365),r=n(87606);let l=e=>e.doc.id,o=e=>{var t;return[a.Dx.FILE_COUNT_NOT_SUPPORTED.ID,a.Dx.FORMAT_NOT_SUPPORTED.ID].includes(null===(t=(0,r.ix)(e))||void 0===t?void 0:t.ID)},s=e=>e.doc.fileType,i=e=>e.doc.fileSizeInMB,c=e=>e.doc.sourceName,d=e=>{let t=e.environment.featureSet.fileSizeLimits,n={};return Object.keys(t).forEach(e=>{t[e]>0&&(n[e]=t[e])}),n}},97387:function(e,t,n){n.d(t,{Fd:function(){return s},SU:function(){return l},jE:function(){return o},wG:function(){return r}});var a=n(9719);let r=e=>e.doc.selectedSourceLang,l=e=>e.doc.detectedSourceLang,o=e=>{let{doc:t}=e;return t.selectedSourceLang===a.jA?t.detectedSourceLang:t.selectedSourceLang},s=e=>e.doc.configurationUsedForTranslation.sourceLang},51388:function(e,t,n){n.d(t,{A:function(){return o}});var a=n(62450),r=n(25663),l=n(58820);let o=(e,t)=>(0,a.I)((0,r.PN)(e),(0,l.Rw)(e),t)},58820:function(e,t,n){n.d(t,{Rw:function(){return i},V0:function(){return s},gf:function(){return o},lU:function(){return c},sS:function(){return l}});var a=n(50416),r=n(97387);let l=e=>e.doc.targetLangAndVariant,o=e=>e.doc.targetLangWithoutVariant,s=e=>e.doc.configurationUsedForTranslation.targetLang,i=e=>e.doc.configurationUsedForTranslation.targetLangWithoutVariant,c=e=>(0,a.rA)((0,r.jE)(e),e.doc.targetLangAndVariant)},98824:function(e,t,n){n.d(t,{Z:function(){return o},C:function(){return c}});var a,r=n(84627);let l=1e4*Math.round(1e4*Math.random()),o=((a={}).REMOTE_ERROR="REMOTE_ERROR",a.INVALID_RESPONSE_JSONRPC="INVALID_RESPONSE_JSONRPC",a.INVALID_RESPONSE_JSON="INVALID_RESPONSE_JSON",a.REQUEST_FAILED="REQUEST_FAILED",a.TIMEOUT="TIMEOUT",a),s=(0,r.fo)(),i={connectTo:e=>{var t,a,c,d,u;let E=e.url,_=null!==(t=e.withCredentials)&&void 0!==t&&t,m=!1===(null===(a=e.useJsonContentType)||void 0===a||a)?"text/plain":"application/json",T=null!==(c=e.timeout)&&void 0!==c?c:0,N=null!==(d=e.responseWithMetadata)&&void 0!==d&&d,D=null!==(u=e.f_str)&&void 0!==u?u:(e,t)=>e,O=0;function A(t){let a=function(c,d,u){void 0===u&&(u=0);let A=++l,I=D(JSON.stringify({jsonrpc:"2.0",method:t,params:void 0!==c?c:{},id:A}),A);return new Promise((l,D)=>{function A(n,r,o,s){let _={errorType:n,basename:E,method:t,code:r,data:o,params:c,retry:u};function m(t){e.responseWithMetadata?D({error:_,metadata:s}):D(t)}i.errorHandler?i.errorHandler(_).then(()=>a(c,d,u+1).then(l).catch(D)).catch(e=>{m(_)}):m(_)}T&&setTimeout(()=>{A(o.TIMEOUT,void 0,void 0,{})},T);let p=new XMLHttpRequest;p.withCredentials=_,p.onreadystatechange=()=>{if(p.readyState===XMLHttpRequest.DONE){let e=function(e){let t={},n=function(e){try{let t=e.getAllResponseHeaders().toLowerCase();if(!t.includes("server-timing:"))return null;let n=e.getResponseHeader("server-timing")||"";return function(e){if(""===e)return null;try{return e.split(",").map(e=>e.trim()).filter(e=>""!==e).map(e=>(function(e){let t=e.split(";");if(t.length<1||""===t[0].trim())return null;let n={name:t[0].trim()};return t.slice(1).forEach(e=>{let t=e.split("=");if(2===t.length){let e=t[0];if("desc"===e)n.description=t[1].replaceAll('"',"");else if("dur"===e){let e=parseFloat(t[1]);Number.isNaN(e)||(n.duration=e)}}}),n})(e)).filter(e=>!!(null!=e&&e.name)).reduce((e,t)=>({...e,[t.name]:t}),{})}catch(e){return console.warn("error when trying to parse Server-Timing header",e),null}}(n)}catch(e){return console.warn("error when trying to parse Server-Timing header",e),null}}(e);return n&&(t.serverTiming=n),t}(p);if(200===p.status)!function(e,t){try{let n=JSON.parse(e);if(n.error)A(o.REMOTE_ERROR,n.error.code,n.error.message,t);else if(n.jsonrpc){try{s&&s(n.jsonrpc)}catch(e){console.warn(e)}let e=n.result,a=N?{data:e,metadata:t}:e;O?setTimeout(()=>l(a),O):l(a)}else A(o.INVALID_RESPONSE_JSONRPC,void 0,e,t)}catch(a){n.g&&(n.g._jsonErrorData=e),A(o.INVALID_RESPONSE_JSON,void 0,e,t)}}(p.responseText,e);else{let t;let n={xhr:p,status:p.status,basename:E,responseData:p.responseText};console.warn("error with http status: ",n.status,n.responseData);try{let e=JSON.parse(p.responseText).error;n.responseData=e,t=e.code}catch(e){}A(o.REQUEST_FAILED,t,n,e)}}};let f=r.ZP.urlWithParameters(E,{method:t});if(d&&d.queryParams)for(let e in d.queryParams)Object.prototype.hasOwnProperty.call(d.queryParams,e)&&(f=r.ZP.urlWithParameter(f,e,d.queryParams[e]));if(p.open("POST",f,!0),p.setRequestHeader("Content-type",m),f.startsWith("https://w.deepl.com")&&Object.entries({}).forEach(e=>{let[t,n]=e;p.setRequestHeader(t,n)}),d&&d.headers)for(let e in d.headers)Object.prototype.hasOwnProperty.call(d.headers,e)&&p.setRequestHeader(e,d.headers[e]);p.send(I)})};return a}return{getFunction:A,callFunction:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return A(e).apply(void 0,n)},setDebugDelay:e=>{O=e}}},_onSuccessHook:s};i.errorHandler=e=>{var t,a;return null!==(t=n.g)&&void 0!==t&&null!==(a=t.dlApiErrorHandlers)&&void 0!==a&&a.rpc?n.g.dlApiErrorHandlers.rpc(e):Promise.reject()},"undefined"!=typeof window&&window.M&&!window.M.get("RPC")&&window.M&&window.M.registerAsync("RPC",i);var c=i},61011:function(e,t,n){n.d(t,{ko:function(){return i},rH:function(){return c}});var a=n(61365);let r="[docTrans_errorResponseHandler]",l=e=>e&&parseInt(e.split("_")[0],10),o=e=>{var t;return(null==e?void 0:null===(t=e.error)||void 0===t?void 0:t.code)||l(null==e?void 0:e.errorDetails)||302},s=e=>{var t;return(null==e?void 0:null===(t=e.error)||void 0===t?void 0:t.message)||(null==e?void 0:e.errorDetails)||"error"},i=(e,t)=>a.E$[e]||{...a.Dx.UNHANDLED_BACKEND_ERROR,TEXT:t},c=(e,t)=>{if(413===e)return console.warn(r,"Upload failed: File too large ",e,t),a.Dx.FILESIZE__FILE_TOO_LARGE_PRO;console.warn(r,"Request failed: Remote error:",t);let n=o(t),l=s(t);return i(n,l)}},58504:function(e,t,n){n.d(t,{Cb:function(){return o},Mt:function(){return l},fZ:function(){return i},oZ:function(){return r}});var a=n(4769);let r=(e,t)=>e&&t&&!(t<e)?t-e:0,l=2147483647,o=500,s=function(e,t){void 0===t&&(t=[]);let n=e&&(0,a.Z)(e.children);return n?n.reduce((e,n)=>[].concat((0,a.Z)(e),[n],(0,a.Z)(s(n,t))),t):t},i=e=>s(e).filter(e=>(null==e?void 0:e.tagName)==="A")},79102:function(e,t,n){n.d(t,{M:function(){return i}});var a,r=n(27378),l=n(79090);let o=(a||(a=n.t(r,2)))["useId".toString()]||(()=>void 0),s=0;function i(e){let[t,n]=r.useState(o());return(0,l.b)(()=>{e||n(e=>null!=e?e:String(s++))},[e]),e||(t?`radix-${t}`:"")}},86771:function(e,t,n){n.d(t,{t:function(){return l}});var a=n(27378),r=n(79090);function l(e){let[t,n]=(0,a.useState)(void 0);return(0,r.b)(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let a,r;if(!Array.isArray(t)||!t.length)return;let l=t[0];if("borderBoxSize"in l){let e=l.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,r=t.blockSize}else a=e.offsetWidth,r=e.offsetHeight;n({width:a,height:r})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}},23299:function(e,t){t.Z={bothareas:"TextTranslatorLayout-module--bothareas--wXSVy",transparentBorderOnFocusInEditable:"TextTranslatorLayout-module--transparentBorderOnFocusInEditable--wCUvC",transparentBorderOnFocusInEditableOnNarrowView:"TextTranslatorLayout-module--transparentBorderOnFocusInEditableOnNarrowView--g9U3p"}}}]);